 * Serving Flask app 'main'
 * Debug mode: on
WARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.
 * Running on http://127.0.0.1:5000
Press CTRL+C to quit
 * Restarting with watchdog (inotify)
 * Debugger is active!
 * Debugger PIN: 606-206-282
127.0.0.1 - - [02/Mar/2025 14:21:40] "GET / HTTP/1.1" 200 -
127.0.0.1 - - [02/Mar/2025 14:21:40] "GET /src/style.css HTTP/1.1" 304 -
127.0.0.1 - - [02/Mar/2025 14:21:40] "GET /src/main.js HTTP/1.1" 304 -
127.0.0.1 - - [02/Mar/2025 14:21:40] "GET /src/config.json HTTP/1.1" 304 -
127.0.0.1 - - [02/Mar/2025 14:21:40] "GET /favicon.ico HTTP/1.1" 404 -
after request
after request
after request
after request
after request
******************************
linux æ˜¾å¡é©±åŠ¨æ€ä¹ˆå®‰è£…
[32;1m[1;3m[chain/start][0m [1m[chain:RunnableSequence] Entering Chain run with input:
[0m{
  "input": "linux æ˜¾å¡é©±åŠ¨æ€ä¹ˆå®‰è£…"
}
[32;1m[1;3m[chain/start][0m [1m[chain:RunnableSequence > chain:RunnableParallel<context,question>] Entering Chain run with input:
[0m{
  "input": "linux æ˜¾å¡é©±åŠ¨æ€ä¹ˆå®‰è£…"
}
[32;1m[1;3m[chain/start][0m [1m[chain:RunnableSequence > chain:RunnableParallel<context,question> > chain:RunnablePassthrough] Entering Chain run with input:
[0m{
  "input": "linux æ˜¾å¡é©±åŠ¨æ€ä¹ˆå®‰è£…"
}
[36;1m[1;3m[chain/end][0m [1m[chain:RunnableSequence > chain:RunnableParallel<context,question> > chain:RunnablePassthrough] [0ms] Exiting Chain run with output:
[0m{
  "output": "linux æ˜¾å¡é©±åŠ¨æ€ä¹ˆå®‰è£…"
}
[36;1m[1;3m[chain/end][0m [1m[chain:RunnableSequence > chain:RunnableParallel<context,question>] [421ms] Exiting Chain run with output:
[0m{
  "context": "æ–‡æ¡£ï¼š4090+esxi+ubuntuè™šæ‹Ÿç¯å¢ƒå®‰è£… \n#NVIDIAé©±åŠ¨\nå†…å®¹ï¼šå‚è€ƒç›¸å…³åšå®¢ï¼Œè¦æ³¨æ„ä¸€äº›è™šæ‹Ÿæœºçš„å‚æ•°æ·»åŠ é—®é¢˜ã€‚\n\n\n\n[å®˜ç½‘é“¾æ¥](https://www.nvidia.cn/Download/index.aspx?lang=cn)\n\nå»å®˜ç½‘ä¸‹è½½é©±åŠ¨\n\n![refs/heads/master/image-20230601000105656](https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/469505aeb3a2f52330266433c225d6f2/e525db42ac109a6dffaaf2658360ffaf.png)\n\n\n\n`wget https://us.download.nvidia.com/XFree86/Linux-x86_64/525.116.04/NVIDIA-Linux-x86_64-525.116.04.run`\n\nä¸‹è½½runæ–‡ä»¶åï¼Œå…ˆåˆ«ç€æ€¥å®‰è£…ï¼Œéœ€å…ˆç¦ç”¨nuoveau\n\n\n\n```text\nsudo vi /etc/modprobe.d/blacklist.conf \n```\n\nä¸‹é¢ä¸¤è¡ŒåŠ åˆ°æœ«å°¾\n\n\n\n```text\nblacklist nouveau\noptions nouveau modeset=0\n```\n\næ›´æ–°initramfsï¼Œéœ€è¦ç¨å¾®ç­‰ä¸€ä¼š\n\n\n\n```text\nsudo update-initramfs -u\n```\n\né‡å¯ç³»ç»Ÿã€‚\n\néªŒè¯å±è”½æ˜¯å¦æˆåŠŸï¼Œæ‰§è¡Œä¸‹é¢è¯­å¥ï¼Œç»“æœä¸ºç©ºï¼Œå³ä¸ºæˆåŠŸã€‚\n\n\n\n```text\nlsmod | grep nouveau\n```\n\næ‰§è¡Œå®‰è£…\n\nå…ˆå®‰è£…ä¾èµ–è½¯ä»¶ï¼Œgcc makeã€‚è‹¥å·²å®‰è£…åˆ™å»ºç«‹cc makeè½¯é“¾æ¥\n\n\n\n```text\nsudo apt install gcc\n```\n\n```text\nsudo apt install make\n```\n\nGNU Make 4.2.1\n\n```text\nchmod +x NVIDIA-Linux-x86_64-460.106.00.run \nsudo bash ./NVIDIA-Linux-x86_64-460.106.00.run\n```\n\nå®‰è£…è¿‡ç¨‹ä¸­ï¼Œ\n\nInstall 32 bit compatibility libraries ï¼Ÿ é€‰æ‹©No\n\nå®‰è£…å®Œæ¯•åï¼Œè¾“å…¥\n\n\n\n```text\nnvidia-smi\n```\næ–‡æ¡£ï¼štesla T4 æ·±åº¦å­¦ä¹ ç¯å¢ƒæ­å»º \n##NVIDIAçš„é©±åŠ¨\nå†…å®¹ï¼š```\n wget https://cn.download.nvidia.com/tesla/460.106.00/NVIDIA-Linux-x86_64-460.106.00.run\n```\n\nä¸‹è½½debæ–‡ä»¶åï¼Œå…ˆåˆ«ç€æ€¥å®‰è£…ï¼Œéœ€å…ˆç¦ç”¨nuoveau\n\n```text\nsudo vi /etc/modprobe.d/blacklist.conf \n```\n\nä¸‹é¢ä¸¤è¡ŒåŠ åˆ°æœ«å°¾\n\n```text\nblacklist nouveau\noptions nouveau modeset=0\n```\n\næ›´æ–°initramfsï¼Œéœ€è¦ç¨å¾®ç­‰ä¸€ä¼š\n\n```text\nsudo update-initramfs -u\n```\n\né‡å¯ç³»ç»Ÿã€‚\n\néªŒè¯å±è”½æ˜¯å¦æˆåŠŸï¼Œæ‰§è¡Œä¸‹é¢è¯­å¥ï¼Œç»“æœä¸ºç©ºï¼Œå³ä¸ºæˆåŠŸã€‚\n\n```text\nlsmod | grep nouveau\n```\n\næ‰§è¡Œå®‰è£…\n\nå…ˆå®‰è£…ä¾èµ–è½¯ä»¶ï¼Œgcc makeã€‚è‹¥å·²å®‰è£…åˆ™å»ºç«‹cc makeè½¯é“¾æ¥\n\n```text\nsudo apt install gcc\n```\n\ngcc version 9.4.0 (Ubuntu 9.4.0-1ubuntu1~20.04.1)\n\n```text\nsudo apt install make\n```\n\nGNU Make 4.2.1\n\n```text\nchmod +x NVIDIA-Linux-x86_64-460.106.00.run \nsudo bash ./NVIDIA-Linux-x86_64-460.106.00.run\n```\n\nå®‰è£…è¿‡ç¨‹ä¸­ï¼Œ\n\nInstall 32 bit compatibility libraries ï¼Ÿ é€‰æ‹©No\n\nå®‰è£…å®Œæ¯•åï¼Œè¾“å…¥\n\n```text\nnvidia-smi\n```\n\n![img](https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/fd10750a9216e7e8481fa986baad00c8/e5eef861ebafd1e5104dac0a107afa79.png)\næ–‡æ¡£ï¼šdocker ä½¿ç”¨ç®€å•æ•™ç¨‹ \n##dockerå®‰è£…\nå†…å®¹ï¼š- windowsç›´æ¥å»å®˜ç½‘ä¸‹è½½åº”ç”¨ç¨‹åº\n- linuxå¯ä»¥ç›´æ¥ç”¨åŒ…ç®¡ç†å·¥å…·ä¸‹è½½å®‰è£…åŒ…\næ–‡æ¡£ï¼šdocker ä½¿ç”¨ç®€å•æ•™ç¨‹ \n##dockerå®‰è£…\nå†…å®¹ï¼š- windowsç›´æ¥å»å®˜ç½‘ä¸‹è½½åº”ç”¨ç¨‹åº\n- linuxå¯ä»¥ç›´æ¥ç”¨åŒ…ç®¡ç†å·¥å…·ä¸‹è½½å®‰è£…åŒ…\næ–‡æ¡£ï¼šlinux ä¸´æ—¶è®¾ç½®ipç½‘å…³è·¯ç”±.md \n#èƒŒæ™¯\nå†…å®¹ï¼šç›®å‰åœ¨é…ä¸€å°æœºå™¨ï¼Œä¸å¯¹åŠ²ã€‚æ¥å…¥äº†äº¤æ¢æœºï¼Œè¯¥äº®çš„å·²ç»äº®äº†ã€‚é©±åŠ¨ä¹Ÿç¡®ä¿å®‰è£…å¥½äº†ã€‚ä½†æ˜¯å°±æ˜¯æ²¡æœ‰dhcpåˆ†é…ipã€‚\n\näºæ˜¯å†³å®šæ‰‹åŠ¨è®¾ç½®é™æ€ipï¼Œå…ˆè¯•è¯•èƒ½ä¸èƒ½é“¾æ¥äº¤æ¢æœºç®¡ç†ï¼Œç„¶åè¯•è¯•èƒ½ä¸èƒ½é“¾æ¥å®éªŒå®¤è·¯ç”±ã€‚\næ–‡æ¡£ï¼šshellå°note \n#docker å®¹å™¨ç›¸å…³çš„å‘½ä»¤\nå†…å®¹ï¼š**ä¸€äº›å®¹å™¨æ²¡æœ‰suå‘½ä»¤ã€‚**\n\nå®‰è£…çš„æ–¹å¼\n\n```\n-bash/zsh: su: command not found\n \n#Debian\napt-get install util-linux\n \n#Ubuntu\napt-get install util-linux\n \n#Alpine\napk add util-linux\n \n#Arch Linux\npacman -S util-linux\n \n#Kali Linux\napt-get install util-linux\n \n#CentOS\nyum install util-linux\n \n#Fedora\ndnf install util-linux\n \n#OS X\nbrew install util-linux\n \n#Raspbian\napt-get install login\n \n#Docker\ndocker run cmd.cat/su su\n```\næ–‡æ¡£ï¼šå¤§æ¨¡å‹è‡ªéƒ¨ç½²è°ƒæŸ¥ \n#å…³äºä¸€äº›ç‰¹æ®Šå‹å·çš„æ˜¾å¡\nå†…å®¹ï¼š**å¯ä»¥è€ƒè™‘è½¬åŒ–ä¸ºonnxæ ¼å¼çš„æ¨¡å‹æ¥é€šçŸ¥æ‰§è¡Œ**\næ–‡æ¡£ï¼š4090+esxi+ubuntuè™šæ‹Ÿç¯å¢ƒå®‰è£… \n##2.2 è¿›å…¥CUDAå®˜ç½‘\nå†…å®¹ï¼šCUDAå®˜ç½‘:https://developer.nvidia.com/cuda-toolkit-archive\n\né€‰æ‹©ç›¸åº”ç‰ˆæœ¬å‹å·\n\n\n\n![refs/heads/master/image-20230601002603316](https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/469505aeb3a2f52330266433c225d6f2/e4fb240f5670dd45caceaac8db614d5f.png)\n\n\n\n\n\nä¸‹è½½runæ–‡ä»¶\n\n\n\n```text\nwget https://developer.download.nvidia.com/compute/cuda/12.0.1/local_installers/cuda_12.0.1_525.85.12_linux.run\nsudo sh cuda_12.0.1_525.85.12_linux.run\n\n```\n\naccept åŒæ„ å–æ¶ˆDriverï¼Œå› ä¸ºæˆ‘ä»¬å‰é¢å·²ç»å®‰è£…è¿‡æ˜¾ç¤ºé©±åŠ¨äº†ï¼Œä¸èƒ½é‡å¤å®‰è£…ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚\n\n\n\n![img](https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/fd10750a9216e7e8481fa986baad00c8/80e31a36d5f762ad8c5c23c146db4f38.png)\n\n\n\n\n\nç­‰å¾…æ‰§è¡Œå®Œæ¯•\n\n\n\n![img](https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/fd10750a9216e7e8481fa986baad00c8/1aa9c7f087059a817bb0debaffa0acfa.png)\n\n****\n\n\n\næ·»åŠ ç¯å¢ƒå˜é‡\n\n\n\n```text\nsudo vi ~/.bashrc\n```\n\nå¦‚æœè¦ä½¿æ‰€æœ‰ç”¨æˆ·ç”Ÿæ•ˆï¼Œç¼–è¾‘`/etc/profile`\n\n\n\næœ€åå¢åŠ å¦‚ä¸‹ï¼šè¿™é‡Œçš„è·¯å¾„æ ¹æ®ä¸Šé¢çš„è¾“å‡ºè‡ªåŠ¨ä¿®æ”¹è¿™é‡Œçš„è·¯å¾„æ ¹æ®ä¸Šé¢çš„è¾“å‡ºè‡ªåŠ¨ä¿®æ”¹\n\ncudaç‰ˆæœ¬å¯èƒ½æœ‰å˜ï¼Œçœ‹ä½ è‡ªå·±çš„é…ç½®\n\n```text\nexport  PATH=/usr/local/cuda/bin:$PATH\nexport  LD_LIBRARY_PATH=/usr/local/cuda/lib64:$LD_LIBRARY_PATH\n```\n\n\n\nä½¿ç”Ÿæ•ˆã€‚\n\n\n\n```text\nsource ~/.bashrc \næˆ–è€…ä½¿ç”¨ /etc/profile å…¨å±€ç”Ÿæ•ˆï¼Œæ–¹ä¾¿å®éªŒå®¤ç”¨\n```\næ–‡æ¡£ï¼štesla T4 æ·±åº¦å­¦ä¹ ç¯å¢ƒæ­å»º \n##å®‰è£…CUDAå’ŒcuDNN\nå†…å®¹ï¼šä¸‹è½½runæ–‡ä»¶\n\n```text\nwget https://developer.download.nvidia.com/compute/cuda/11.1.0/local_installers/cuda_11.1.0_455.23.05_linux.run\nsudo sh cuda_11.1.0_455.23.05_linux.run\n```\n\naccept åŒæ„ å–æ¶ˆDriverï¼Œå› ä¸ºæˆ‘ä»¬å‰é¢å·²ç»å®‰è£…è¿‡æ˜¾ç¤ºé©±åŠ¨äº†ï¼Œä¸èƒ½é‡å¤å®‰è£…ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚\n\n![img](https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/fd10750a9216e7e8481fa986baad00c8/80e31a36d5f762ad8c5c23c146db4f38.png)\n\nç­‰å¾…æ‰§è¡Œå®Œæ¯•\n\n![img](https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/fd10750a9216e7e8481fa986baad00c8/1aa9c7f087059a817bb0debaffa0acfa.png)\n\næ·»åŠ ç¯å¢ƒå˜é‡\n\n```text\nsudo vi ~/.bashrc\n```\n\næœ€åå¢åŠ å¦‚ä¸‹ï¼š(è¿™é‡Œçš„è·¯å¾„æ ¹æ®ä¸Šé¢çš„è¾“å‡ºè‡ªåŠ¨ä¿®æ”¹)\n\n```text\nexport  PATH=/usr/local/cuda-11.1/bin:$PATH\nexport  LD_LIBRARY_PATH=/usr/local/cuda-11.1/lib64:$LD_LIBRARY_PATH\n```\n\nä½¿ç”Ÿæ•ˆã€‚\n\n```text\nsource ~/.bashrc \næˆ–è€…ä½¿ç”¨ /etc/profile å…¨å±€ç”Ÿæ•ˆï¼Œæ–¹ä¾¿å®éªŒå®¤ç”¨\n```\n\n\n\næµ‹è¯•æŸ¥çœ‹cudaç‰ˆæœ¬\n\n```\nlabot@gui-gpu:~$ nvcc -V\nnvcc: NVIDIA (R) Cuda compiler driver\nCopyright (c) 2005-2020 NVIDIA Corporation\nBuilt on Tue_Sep_15_19:10:02_PDT_2020\nCuda compilation tools, release 11.1, V11.1.74\nBuild cuda_11.1.TC455_06.29069683_0\n```\n\n\n\n\n\n**ç„¶åæ˜¯cuDNN**\n\n\n\n```\nwget https://developer.nvidia.com/downloads/c118-cudnn-linux-8664-880121cuda11-archivetarz\n```\n\n\n\nå®‰è£…cuDNN v8.2.1(è¯·æ ¹æ®è‡ªå·±çš„éœ€è¦è¿›è¡Œä¸‹è½½ã€‚)**è¿™ä¸ªè¦ç¿»åˆ°ä¸‹é¢ä»¥å‰å‘è¡Œçš„å°±ä¼šæœ‰è¿™ç§cudnnçš„åº“æ–‡ä»¶ä¸‹è½½ã€‚**\n\n[https://developer.nvidia.com/rdp/cudnn-archivedeveloper.nvidia.com/rdp/cudnn-archive](https://link.zhihu.com/?target=https%3A//developer.nvidia.com/rdp/cudnn-archive)\n\n![img](https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/fd10750a9216e7e8481fa986baad00c8/bdf466115f08a53ab2b6a05ebafb9a36.png)\n\nè§£å‹ã€‚\n\n```text\ntar zxvf cudnn-11.3-linux-x64-v8.2.1.32.tgz\n```\n\næœ¬ç›®å½•ä¼šå¤šå‡ºä¸€ä¸ªcudaç›®å½•ï¼Œå°†cudnn.hå¤åˆ¶åˆ°cudaå®‰è£…ç›®å½•ä¸‹çš„includeä¸‹ã€‚\n\n```text\nsudo cp cuda/include/cudnn.h /usr/local/cuda-11.1/include/\n```\n\nå†å°†lib64ä¸‹æ‰€æœ‰çš„soæ–‡ä»¶ï¼Œå¤åˆ¶åˆ°lib64ä¸‹ã€‚\n\n```text\nsudo cp cuda/lib64/lib* /usr/local/cuda-11.1/lib64/\n```\n\nå°†/usr/local/cuda-11.1/lib64ä¸‹çš„æ‰€æœ‰soæ–‡ä»¶ï¼Œå¤åˆ¶åˆ°/usr/libä¸‹ï¼Œé˜²æ­¢è°ƒç”¨æ—¶æ‰¾ä¸åˆ°(éå¿…è¦)\n\n```text\nsudo cp /usr/local/cuda-11.1/lib64/* /usr/lib/\n```\n\næ·»åŠ å¯æ‰§è¡Œæƒé™\n\n```\nsudo chmod a+r /usr/local/cuda/include/cudnn.h /usr/local/cuda/lib64/libcudnn*\n```\næ–‡æ¡£ï¼šHRé—®é¢˜ \n#5.æ€ä¹ˆå­¦ä¹ ä¸€ä¸ªæ–°æŠ€æœ¯\nå†…å®¹ï¼šç¬¬ä¸€ä¸ªå°±æ˜¯ç¡®è®¤æˆ‘è¦å­¦ä¹ çš„æ˜¯ä»€ä¹ˆï¼Œç„¶ååˆç†åšå‡ºè§„åˆ’ï¼ˆæ¯”å¦‚ä¸€ä¸ªæ ‘å½¢çš„æŠ€èƒ½å›¾ï¼Œè¦å­¦ä¹ è¿™ä¸ªéœ€è¦å…ˆå­¦ä¹ ä»€ä¹ˆï¼‰ã€‚ï¼ˆè¿™ç‚¹ä¸Šï¼Œå¯ä»¥é€‚å½“è¯·æ•™æœ‰ç»éªŒçš„äººï¼Œè®©äººå®¶æä¾›ä¸€ä¸ªå¤§æ¦‚çš„æ–¹å‘ã€‚å¯ä»¥é¿å…èµ°å¼¯è·¯ï¼‰\n\nç„¶åå°±æ˜¯æ‰¾åˆ°å­¦ä¹ èµ„æºï¼Œæˆ‘ä¸ªäººå€¾å‘äºå›¾æ–‡èµ„æºï¼Œç„¶åéƒ¨åˆ†å¾ˆæŠ½è±¡çš„å¯ä»¥è€ƒè™‘è§†é¢‘èµ„æºã€‚ï¼ˆä¸»è¦æ˜¯è§†é¢‘çš„å¤ªæ…¢äº†ï¼‰\n\næœ€åå°±æ˜¯è¦ç»“åˆå®è·µã€‚è¿˜æ˜¯è¦ç”¨åˆ°è¿™ä¸ªæŠ€æœ¯ï¼Œåªæœ‰ç”¨åˆ°æŠ€æœ¯æ‰èƒ½çœŸæ­£çš„å‘ç°ä¸€äº›ç†è®ºä¸Šæ„è¯†ä¸åˆ°çš„é—®é¢˜ï¼Œè¿™ä¹Ÿæ˜¯è‡ªæˆ‘é©±åŠ¨åŠ›æœ€é«˜çš„æ–¹å¼ã€‚ï¼ˆä¸¾ä¾‹æˆ‘ä¹‹å‰å­¦ä¹ arduinoï¼‰\n",
  "question": "linux æ˜¾å¡é©±åŠ¨æ€ä¹ˆå®‰è£…"
}
[32;1m[1;3m[chain/start][0m [1m[chain:RunnableSequence > prompt:ChatPromptTemplate] Entering Prompt run with input:
[0m{
  "context": "æ–‡æ¡£ï¼š4090+esxi+ubuntuè™šæ‹Ÿç¯å¢ƒå®‰è£… \n#NVIDIAé©±åŠ¨\nå†…å®¹ï¼šå‚è€ƒç›¸å…³åšå®¢ï¼Œè¦æ³¨æ„ä¸€äº›è™šæ‹Ÿæœºçš„å‚æ•°æ·»åŠ é—®é¢˜ã€‚\n\n\n\n[å®˜ç½‘é“¾æ¥](https://www.nvidia.cn/Download/index.aspx?lang=cn)\n\nå»å®˜ç½‘ä¸‹è½½é©±åŠ¨\n\n![refs/heads/master/image-20230601000105656](https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/469505aeb3a2f52330266433c225d6f2/e525db42ac109a6dffaaf2658360ffaf.png)\n\n\n\n`wget https://us.download.nvidia.com/XFree86/Linux-x86_64/525.116.04/NVIDIA-Linux-x86_64-525.116.04.run`\n\nä¸‹è½½runæ–‡ä»¶åï¼Œå…ˆåˆ«ç€æ€¥å®‰è£…ï¼Œéœ€å…ˆç¦ç”¨nuoveau\n\n\n\n```text\nsudo vi /etc/modprobe.d/blacklist.conf \n```\n\nä¸‹é¢ä¸¤è¡ŒåŠ åˆ°æœ«å°¾\n\n\n\n```text\nblacklist nouveau\noptions nouveau modeset=0\n```\n\næ›´æ–°initramfsï¼Œéœ€è¦ç¨å¾®ç­‰ä¸€ä¼š\n\n\n\n```text\nsudo update-initramfs -u\n```\n\né‡å¯ç³»ç»Ÿã€‚\n\néªŒè¯å±è”½æ˜¯å¦æˆåŠŸï¼Œæ‰§è¡Œä¸‹é¢è¯­å¥ï¼Œç»“æœä¸ºç©ºï¼Œå³ä¸ºæˆåŠŸã€‚\n\n\n\n```text\nlsmod | grep nouveau\n```\n\næ‰§è¡Œå®‰è£…\n\nå…ˆå®‰è£…ä¾èµ–è½¯ä»¶ï¼Œgcc makeã€‚è‹¥å·²å®‰è£…åˆ™å»ºç«‹cc makeè½¯é“¾æ¥\n\n\n\n```text\nsudo apt install gcc\n```\n\n```text\nsudo apt install make\n```\n\nGNU Make 4.2.1\n\n```text\nchmod +x NVIDIA-Linux-x86_64-460.106.00.run \nsudo bash ./NVIDIA-Linux-x86_64-460.106.00.run\n```\n\nå®‰è£…è¿‡ç¨‹ä¸­ï¼Œ\n\nInstall 32 bit compatibility libraries ï¼Ÿ é€‰æ‹©No\n\nå®‰è£…å®Œæ¯•åï¼Œè¾“å…¥\n\n\n\n```text\nnvidia-smi\n```\næ–‡æ¡£ï¼štesla T4 æ·±åº¦å­¦ä¹ ç¯å¢ƒæ­å»º \n##NVIDIAçš„é©±åŠ¨\nå†…å®¹ï¼š```\n wget https://cn.download.nvidia.com/tesla/460.106.00/NVIDIA-Linux-x86_64-460.106.00.run\n```\n\nä¸‹è½½debæ–‡ä»¶åï¼Œå…ˆåˆ«ç€æ€¥å®‰è£…ï¼Œéœ€å…ˆç¦ç”¨nuoveau\n\n```text\nsudo vi /etc/modprobe.d/blacklist.conf \n```\n\nä¸‹é¢ä¸¤è¡ŒåŠ åˆ°æœ«å°¾\n\n```text\nblacklist nouveau\noptions nouveau modeset=0\n```\n\næ›´æ–°initramfsï¼Œéœ€è¦ç¨å¾®ç­‰ä¸€ä¼š\n\n```text\nsudo update-initramfs -u\n```\n\né‡å¯ç³»ç»Ÿã€‚\n\néªŒè¯å±è”½æ˜¯å¦æˆåŠŸï¼Œæ‰§è¡Œä¸‹é¢è¯­å¥ï¼Œç»“æœä¸ºç©ºï¼Œå³ä¸ºæˆåŠŸã€‚\n\n```text\nlsmod | grep nouveau\n```\n\næ‰§è¡Œå®‰è£…\n\nå…ˆå®‰è£…ä¾èµ–è½¯ä»¶ï¼Œgcc makeã€‚è‹¥å·²å®‰è£…åˆ™å»ºç«‹cc makeè½¯é“¾æ¥\n\n```text\nsudo apt install gcc\n```\n\ngcc version 9.4.0 (Ubuntu 9.4.0-1ubuntu1~20.04.1)\n\n```text\nsudo apt install make\n```\n\nGNU Make 4.2.1\n\n```text\nchmod +x NVIDIA-Linux-x86_64-460.106.00.run \nsudo bash ./NVIDIA-Linux-x86_64-460.106.00.run\n```\n\nå®‰è£…è¿‡ç¨‹ä¸­ï¼Œ\n\nInstall 32 bit compatibility libraries ï¼Ÿ é€‰æ‹©No\n\nå®‰è£…å®Œæ¯•åï¼Œè¾“å…¥\n\n```text\nnvidia-smi\n```\n\n![img](https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/fd10750a9216e7e8481fa986baad00c8/e5eef861ebafd1e5104dac0a107afa79.png)\næ–‡æ¡£ï¼šdocker ä½¿ç”¨ç®€å•æ•™ç¨‹ \n##dockerå®‰è£…\nå†…å®¹ï¼š- windowsç›´æ¥å»å®˜ç½‘ä¸‹è½½åº”ç”¨ç¨‹åº\n- linuxå¯ä»¥ç›´æ¥ç”¨åŒ…ç®¡ç†å·¥å…·ä¸‹è½½å®‰è£…åŒ…\næ–‡æ¡£ï¼šdocker ä½¿ç”¨ç®€å•æ•™ç¨‹ \n##dockerå®‰è£…\nå†…å®¹ï¼š- windowsç›´æ¥å»å®˜ç½‘ä¸‹è½½åº”ç”¨ç¨‹åº\n- linuxå¯ä»¥ç›´æ¥ç”¨åŒ…ç®¡ç†å·¥å…·ä¸‹è½½å®‰è£…åŒ…\næ–‡æ¡£ï¼šlinux ä¸´æ—¶è®¾ç½®ipç½‘å…³è·¯ç”±.md \n#èƒŒæ™¯\nå†…å®¹ï¼šç›®å‰åœ¨é…ä¸€å°æœºå™¨ï¼Œä¸å¯¹åŠ²ã€‚æ¥å…¥äº†äº¤æ¢æœºï¼Œè¯¥äº®çš„å·²ç»äº®äº†ã€‚é©±åŠ¨ä¹Ÿç¡®ä¿å®‰è£…å¥½äº†ã€‚ä½†æ˜¯å°±æ˜¯æ²¡æœ‰dhcpåˆ†é…ipã€‚\n\näºæ˜¯å†³å®šæ‰‹åŠ¨è®¾ç½®é™æ€ipï¼Œå…ˆè¯•è¯•èƒ½ä¸èƒ½é“¾æ¥äº¤æ¢æœºç®¡ç†ï¼Œç„¶åè¯•è¯•èƒ½ä¸èƒ½é“¾æ¥å®éªŒå®¤è·¯ç”±ã€‚\næ–‡æ¡£ï¼šshellå°note \n#docker å®¹å™¨ç›¸å…³çš„å‘½ä»¤\nå†…å®¹ï¼š**ä¸€äº›å®¹å™¨æ²¡æœ‰suå‘½ä»¤ã€‚**\n\nå®‰è£…çš„æ–¹å¼\n\n```\n-bash/zsh: su: command not found\n \n#Debian\napt-get install util-linux\n \n#Ubuntu\napt-get install util-linux\n \n#Alpine\napk add util-linux\n \n#Arch Linux\npacman -S util-linux\n \n#Kali Linux\napt-get install util-linux\n \n#CentOS\nyum install util-linux\n \n#Fedora\ndnf install util-linux\n \n#OS X\nbrew install util-linux\n \n#Raspbian\napt-get install login\n \n#Docker\ndocker run cmd.cat/su su\n```\næ–‡æ¡£ï¼šå¤§æ¨¡å‹è‡ªéƒ¨ç½²è°ƒæŸ¥ \n#å…³äºä¸€äº›ç‰¹æ®Šå‹å·çš„æ˜¾å¡\nå†…å®¹ï¼š**å¯ä»¥è€ƒè™‘è½¬åŒ–ä¸ºonnxæ ¼å¼çš„æ¨¡å‹æ¥é€šçŸ¥æ‰§è¡Œ**\næ–‡æ¡£ï¼š4090+esxi+ubuntuè™šæ‹Ÿç¯å¢ƒå®‰è£… \n##2.2 è¿›å…¥CUDAå®˜ç½‘\nå†…å®¹ï¼šCUDAå®˜ç½‘:https://developer.nvidia.com/cuda-toolkit-archive\n\né€‰æ‹©ç›¸åº”ç‰ˆæœ¬å‹å·\n\n\n\n![refs/heads/master/image-20230601002603316](https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/469505aeb3a2f52330266433c225d6f2/e4fb240f5670dd45caceaac8db614d5f.png)\n\n\n\n\n\nä¸‹è½½runæ–‡ä»¶\n\n\n\n```text\nwget https://developer.download.nvidia.com/compute/cuda/12.0.1/local_installers/cuda_12.0.1_525.85.12_linux.run\nsudo sh cuda_12.0.1_525.85.12_linux.run\n\n```\n\naccept åŒæ„ å–æ¶ˆDriverï¼Œå› ä¸ºæˆ‘ä»¬å‰é¢å·²ç»å®‰è£…è¿‡æ˜¾ç¤ºé©±åŠ¨äº†ï¼Œä¸èƒ½é‡å¤å®‰è£…ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚\n\n\n\n![img](https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/fd10750a9216e7e8481fa986baad00c8/80e31a36d5f762ad8c5c23c146db4f38.png)\n\n\n\n\n\nç­‰å¾…æ‰§è¡Œå®Œæ¯•\n\n\n\n![img](https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/fd10750a9216e7e8481fa986baad00c8/1aa9c7f087059a817bb0debaffa0acfa.png)\n\n****\n\n\n\næ·»åŠ ç¯å¢ƒå˜é‡\n\n\n\n```text\nsudo vi ~/.bashrc\n```\n\nå¦‚æœè¦ä½¿æ‰€æœ‰ç”¨æˆ·ç”Ÿæ•ˆï¼Œç¼–è¾‘`/etc/profile`\n\n\n\næœ€åå¢åŠ å¦‚ä¸‹ï¼šè¿™é‡Œçš„è·¯å¾„æ ¹æ®ä¸Šé¢çš„è¾“å‡ºè‡ªåŠ¨ä¿®æ”¹è¿™é‡Œçš„è·¯å¾„æ ¹æ®ä¸Šé¢çš„è¾“å‡ºè‡ªåŠ¨ä¿®æ”¹\n\ncudaç‰ˆæœ¬å¯èƒ½æœ‰å˜ï¼Œçœ‹ä½ è‡ªå·±çš„é…ç½®\n\n```text\nexport  PATH=/usr/local/cuda/bin:$PATH\nexport  LD_LIBRARY_PATH=/usr/local/cuda/lib64:$LD_LIBRARY_PATH\n```\n\n\n\nä½¿ç”Ÿæ•ˆã€‚\n\n\n\n```text\nsource ~/.bashrc \næˆ–è€…ä½¿ç”¨ /etc/profile å…¨å±€ç”Ÿæ•ˆï¼Œæ–¹ä¾¿å®éªŒå®¤ç”¨\n```\næ–‡æ¡£ï¼štesla T4 æ·±åº¦å­¦ä¹ ç¯å¢ƒæ­å»º \n##å®‰è£…CUDAå’ŒcuDNN\nå†…å®¹ï¼šä¸‹è½½runæ–‡ä»¶\n\n```text\nwget https://developer.download.nvidia.com/compute/cuda/11.1.0/local_installers/cuda_11.1.0_455.23.05_linux.run\nsudo sh cuda_11.1.0_455.23.05_linux.run\n```\n\naccept åŒæ„ å–æ¶ˆDriverï¼Œå› ä¸ºæˆ‘ä»¬å‰é¢å·²ç»å®‰è£…è¿‡æ˜¾ç¤ºé©±åŠ¨äº†ï¼Œä¸èƒ½é‡å¤å®‰è£…ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚\n\n![img](https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/fd10750a9216e7e8481fa986baad00c8/80e31a36d5f762ad8c5c23c146db4f38.png)\n\nç­‰å¾…æ‰§è¡Œå®Œæ¯•\n\n![img](https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/fd10750a9216e7e8481fa986baad00c8/1aa9c7f087059a817bb0debaffa0acfa.png)\n\næ·»åŠ ç¯å¢ƒå˜é‡\n\n```text\nsudo vi ~/.bashrc\n```\n\næœ€åå¢åŠ å¦‚ä¸‹ï¼š(è¿™é‡Œçš„è·¯å¾„æ ¹æ®ä¸Šé¢çš„è¾“å‡ºè‡ªåŠ¨ä¿®æ”¹)\n\n```text\nexport  PATH=/usr/local/cuda-11.1/bin:$PATH\nexport  LD_LIBRARY_PATH=/usr/local/cuda-11.1/lib64:$LD_LIBRARY_PATH\n```\n\nä½¿ç”Ÿæ•ˆã€‚\n\n```text\nsource ~/.bashrc \næˆ–è€…ä½¿ç”¨ /etc/profile å…¨å±€ç”Ÿæ•ˆï¼Œæ–¹ä¾¿å®éªŒå®¤ç”¨\n```\n\n\n\næµ‹è¯•æŸ¥çœ‹cudaç‰ˆæœ¬\n\n```\nlabot@gui-gpu:~$ nvcc -V\nnvcc: NVIDIA (R) Cuda compiler driver\nCopyright (c) 2005-2020 NVIDIA Corporation\nBuilt on Tue_Sep_15_19:10:02_PDT_2020\nCuda compilation tools, release 11.1, V11.1.74\nBuild cuda_11.1.TC455_06.29069683_0\n```\n\n\n\n\n\n**ç„¶åæ˜¯cuDNN**\n\n\n\n```\nwget https://developer.nvidia.com/downloads/c118-cudnn-linux-8664-880121cuda11-archivetarz\n```\n\n\n\nå®‰è£…cuDNN v8.2.1(è¯·æ ¹æ®è‡ªå·±çš„éœ€è¦è¿›è¡Œä¸‹è½½ã€‚)**è¿™ä¸ªè¦ç¿»åˆ°ä¸‹é¢ä»¥å‰å‘è¡Œçš„å°±ä¼šæœ‰è¿™ç§cudnnçš„åº“æ–‡ä»¶ä¸‹è½½ã€‚**\n\n[https://developer.nvidia.com/rdp/cudnn-archivedeveloper.nvidia.com/rdp/cudnn-archive](https://link.zhihu.com/?target=https%3A//developer.nvidia.com/rdp/cudnn-archive)\n\n![img](https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/fd10750a9216e7e8481fa986baad00c8/bdf466115f08a53ab2b6a05ebafb9a36.png)\n\nè§£å‹ã€‚\n\n```text\ntar zxvf cudnn-11.3-linux-x64-v8.2.1.32.tgz\n```\n\næœ¬ç›®å½•ä¼šå¤šå‡ºä¸€ä¸ªcudaç›®å½•ï¼Œå°†cudnn.hå¤åˆ¶åˆ°cudaå®‰è£…ç›®å½•ä¸‹çš„includeä¸‹ã€‚\n\n```text\nsudo cp cuda/include/cudnn.h /usr/local/cuda-11.1/include/\n```\n\nå†å°†lib64ä¸‹æ‰€æœ‰çš„soæ–‡ä»¶ï¼Œå¤åˆ¶åˆ°lib64ä¸‹ã€‚\n\n```text\nsudo cp cuda/lib64/lib* /usr/local/cuda-11.1/lib64/\n```\n\nå°†/usr/local/cuda-11.1/lib64ä¸‹çš„æ‰€æœ‰soæ–‡ä»¶ï¼Œå¤åˆ¶åˆ°/usr/libä¸‹ï¼Œé˜²æ­¢è°ƒç”¨æ—¶æ‰¾ä¸åˆ°(éå¿…è¦)\n\n```text\nsudo cp /usr/local/cuda-11.1/lib64/* /usr/lib/\n```\n\næ·»åŠ å¯æ‰§è¡Œæƒé™\n\n```\nsudo chmod a+r /usr/local/cuda/include/cudnn.h /usr/local/cuda/lib64/libcudnn*\n```\næ–‡æ¡£ï¼šHRé—®é¢˜ \n#5.æ€ä¹ˆå­¦ä¹ ä¸€ä¸ªæ–°æŠ€æœ¯\nå†…å®¹ï¼šç¬¬ä¸€ä¸ªå°±æ˜¯ç¡®è®¤æˆ‘è¦å­¦ä¹ çš„æ˜¯ä»€ä¹ˆï¼Œç„¶ååˆç†åšå‡ºè§„åˆ’ï¼ˆæ¯”å¦‚ä¸€ä¸ªæ ‘å½¢çš„æŠ€èƒ½å›¾ï¼Œè¦å­¦ä¹ è¿™ä¸ªéœ€è¦å…ˆå­¦ä¹ ä»€ä¹ˆï¼‰ã€‚ï¼ˆè¿™ç‚¹ä¸Šï¼Œå¯ä»¥é€‚å½“è¯·æ•™æœ‰ç»éªŒçš„äººï¼Œè®©äººå®¶æä¾›ä¸€ä¸ªå¤§æ¦‚çš„æ–¹å‘ã€‚å¯ä»¥é¿å…èµ°å¼¯è·¯ï¼‰\n\nç„¶åå°±æ˜¯æ‰¾åˆ°å­¦ä¹ èµ„æºï¼Œæˆ‘ä¸ªäººå€¾å‘äºå›¾æ–‡èµ„æºï¼Œç„¶åéƒ¨åˆ†å¾ˆæŠ½è±¡çš„å¯ä»¥è€ƒè™‘è§†é¢‘èµ„æºã€‚ï¼ˆä¸»è¦æ˜¯è§†é¢‘çš„å¤ªæ…¢äº†ï¼‰\n\næœ€åå°±æ˜¯è¦ç»“åˆå®è·µã€‚è¿˜æ˜¯è¦ç”¨åˆ°è¿™ä¸ªæŠ€æœ¯ï¼Œåªæœ‰ç”¨åˆ°æŠ€æœ¯æ‰èƒ½çœŸæ­£çš„å‘ç°ä¸€äº›ç†è®ºä¸Šæ„è¯†ä¸åˆ°çš„é—®é¢˜ï¼Œè¿™ä¹Ÿæ˜¯è‡ªæˆ‘é©±åŠ¨åŠ›æœ€é«˜çš„æ–¹å¼ã€‚ï¼ˆä¸¾ä¾‹æˆ‘ä¹‹å‰å­¦ä¹ arduinoï¼‰\n",
  "question": "linux æ˜¾å¡é©±åŠ¨æ€ä¹ˆå®‰è£…"
}
[36;1m[1;3m[chain/end][0m [1m[chain:RunnableSequence > prompt:ChatPromptTemplate] [1ms] Exiting Prompt run with output:
[0m[outputs]
[32;1m[1;3m[llm/start][0m [1m[chain:RunnableSequence > llm:ChatOpenAI] Entering LLM run with input:
[0m{
  "prompts": [
    "Human: ä½ æ˜¯kengerçš„åšå®¢æœç´¢åŠ©æ‰‹ï¼Œè¯·ä½ æ ¹æ®æ£€ç´¢åˆ°çš„å†…å®¹å›ç­”é—®é¢˜ï¼š\næ£€ç´¢åˆ°çš„æ–‡æ¡£\næ–‡æ¡£ï¼š4090+esxi+ubuntuè™šæ‹Ÿç¯å¢ƒå®‰è£… \n#NVIDIAé©±åŠ¨\nå†…å®¹ï¼šå‚è€ƒç›¸å…³åšå®¢ï¼Œè¦æ³¨æ„ä¸€äº›è™šæ‹Ÿæœºçš„å‚æ•°æ·»åŠ é—®é¢˜ã€‚\n\n\n\n[å®˜ç½‘é“¾æ¥](https://www.nvidia.cn/Download/index.aspx?lang=cn)\n\nå»å®˜ç½‘ä¸‹è½½é©±åŠ¨\n\n![refs/heads/master/image-20230601000105656](https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/469505aeb3a2f52330266433c225d6f2/e525db42ac109a6dffaaf2658360ffaf.png)\n\n\n\n`wget https://us.download.nvidia.com/XFree86/Linux-x86_64/525.116.04/NVIDIA-Linux-x86_64-525.116.04.run`\n\nä¸‹è½½runæ–‡ä»¶åï¼Œå…ˆåˆ«ç€æ€¥å®‰è£…ï¼Œéœ€å…ˆç¦ç”¨nuoveau\n\n\n\n```text\nsudo vi /etc/modprobe.d/blacklist.conf \n```\n\nä¸‹é¢ä¸¤è¡ŒåŠ åˆ°æœ«å°¾\n\n\n\n```text\nblacklist nouveau\noptions nouveau modeset=0\n```\n\næ›´æ–°initramfsï¼Œéœ€è¦ç¨å¾®ç­‰ä¸€ä¼š\n\n\n\n```text\nsudo update-initramfs -u\n```\n\né‡å¯ç³»ç»Ÿã€‚\n\néªŒè¯å±è”½æ˜¯å¦æˆåŠŸï¼Œæ‰§è¡Œä¸‹é¢è¯­å¥ï¼Œç»“æœä¸ºç©ºï¼Œå³ä¸ºæˆåŠŸã€‚\n\n\n\n```text\nlsmod | grep nouveau\n```\n\næ‰§è¡Œå®‰è£…\n\nå…ˆå®‰è£…ä¾èµ–è½¯ä»¶ï¼Œgcc makeã€‚è‹¥å·²å®‰è£…åˆ™å»ºç«‹cc makeè½¯é“¾æ¥\n\n\n\n```text\nsudo apt install gcc\n```\n\n```text\nsudo apt install make\n```\n\nGNU Make 4.2.1\n\n```text\nchmod +x NVIDIA-Linux-x86_64-460.106.00.run \nsudo bash ./NVIDIA-Linux-x86_64-460.106.00.run\n```\n\nå®‰è£…è¿‡ç¨‹ä¸­ï¼Œ\n\nInstall 32 bit compatibility libraries ï¼Ÿ é€‰æ‹©No\n\nå®‰è£…å®Œæ¯•åï¼Œè¾“å…¥\n\n\n\n```text\nnvidia-smi\n```\næ–‡æ¡£ï¼štesla T4 æ·±åº¦å­¦ä¹ ç¯å¢ƒæ­å»º \n##NVIDIAçš„é©±åŠ¨\nå†…å®¹ï¼š```\n wget https://cn.download.nvidia.com/tesla/460.106.00/NVIDIA-Linux-x86_64-460.106.00.run\n```\n\nä¸‹è½½debæ–‡ä»¶åï¼Œå…ˆåˆ«ç€æ€¥å®‰è£…ï¼Œéœ€å…ˆç¦ç”¨nuoveau\n\n```text\nsudo vi /etc/modprobe.d/blacklist.conf \n```\n\nä¸‹é¢ä¸¤è¡ŒåŠ åˆ°æœ«å°¾\n\n```text\nblacklist nouveau\noptions nouveau modeset=0\n```\n\næ›´æ–°initramfsï¼Œéœ€è¦ç¨å¾®ç­‰ä¸€ä¼š\n\n```text\nsudo update-initramfs -u\n```\n\né‡å¯ç³»ç»Ÿã€‚\n\néªŒè¯å±è”½æ˜¯å¦æˆåŠŸï¼Œæ‰§è¡Œä¸‹é¢è¯­å¥ï¼Œç»“æœä¸ºç©ºï¼Œå³ä¸ºæˆåŠŸã€‚\n\n```text\nlsmod | grep nouveau\n```\n\næ‰§è¡Œå®‰è£…\n\nå…ˆå®‰è£…ä¾èµ–è½¯ä»¶ï¼Œgcc makeã€‚è‹¥å·²å®‰è£…åˆ™å»ºç«‹cc makeè½¯é“¾æ¥\n\n```text\nsudo apt install gcc\n```\n\ngcc version 9.4.0 (Ubuntu 9.4.0-1ubuntu1~20.04.1)\n\n```text\nsudo apt install make\n```\n\nGNU Make 4.2.1\n\n```text\nchmod +x NVIDIA-Linux-x86_64-460.106.00.run \nsudo bash ./NVIDIA-Linux-x86_64-460.106.00.run\n```\n\nå®‰è£…è¿‡ç¨‹ä¸­ï¼Œ\n\nInstall 32 bit compatibility libraries ï¼Ÿ é€‰æ‹©No\n\nå®‰è£…å®Œæ¯•åï¼Œè¾“å…¥\n\n```text\nnvidia-smi\n```\n\n![img](https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/fd10750a9216e7e8481fa986baad00c8/e5eef861ebafd1e5104dac0a107afa79.png)\næ–‡æ¡£ï¼šdocker ä½¿ç”¨ç®€å•æ•™ç¨‹ \n##dockerå®‰è£…\nå†…å®¹ï¼š- windowsç›´æ¥å»å®˜ç½‘ä¸‹è½½åº”ç”¨ç¨‹åº\n- linuxå¯ä»¥ç›´æ¥ç”¨åŒ…ç®¡ç†å·¥å…·ä¸‹è½½å®‰è£…åŒ…\næ–‡æ¡£ï¼šdocker ä½¿ç”¨ç®€å•æ•™ç¨‹ \n##dockerå®‰è£…\nå†…å®¹ï¼š- windowsç›´æ¥å»å®˜ç½‘ä¸‹è½½åº”ç”¨ç¨‹åº\n- linuxå¯ä»¥ç›´æ¥ç”¨åŒ…ç®¡ç†å·¥å…·ä¸‹è½½å®‰è£…åŒ…\næ–‡æ¡£ï¼šlinux ä¸´æ—¶è®¾ç½®ipç½‘å…³è·¯ç”±.md \n#èƒŒæ™¯\nå†…å®¹ï¼šç›®å‰åœ¨é…ä¸€å°æœºå™¨ï¼Œä¸å¯¹åŠ²ã€‚æ¥å…¥äº†äº¤æ¢æœºï¼Œè¯¥äº®çš„å·²ç»äº®äº†ã€‚é©±åŠ¨ä¹Ÿç¡®ä¿å®‰è£…å¥½äº†ã€‚ä½†æ˜¯å°±æ˜¯æ²¡æœ‰dhcpåˆ†é…ipã€‚\n\näºæ˜¯å†³å®šæ‰‹åŠ¨è®¾ç½®é™æ€ipï¼Œå…ˆè¯•è¯•èƒ½ä¸èƒ½é“¾æ¥äº¤æ¢æœºç®¡ç†ï¼Œç„¶åè¯•è¯•èƒ½ä¸èƒ½é“¾æ¥å®éªŒå®¤è·¯ç”±ã€‚\næ–‡æ¡£ï¼šshellå°note \n#docker å®¹å™¨ç›¸å…³çš„å‘½ä»¤\nå†…å®¹ï¼š**ä¸€äº›å®¹å™¨æ²¡æœ‰suå‘½ä»¤ã€‚**\n\nå®‰è£…çš„æ–¹å¼\n\n```\n-bash/zsh: su: command not found\n \n#Debian\napt-get install util-linux\n \n#Ubuntu\napt-get install util-linux\n \n#Alpine\napk add util-linux\n \n#Arch Linux\npacman -S util-linux\n \n#Kali Linux\napt-get install util-linux\n \n#CentOS\nyum install util-linux\n \n#Fedora\ndnf install util-linux\n \n#OS X\nbrew install util-linux\n \n#Raspbian\napt-get install login\n \n#Docker\ndocker run cmd.cat/su su\n```\næ–‡æ¡£ï¼šå¤§æ¨¡å‹è‡ªéƒ¨ç½²è°ƒæŸ¥ \n#å…³äºä¸€äº›ç‰¹æ®Šå‹å·çš„æ˜¾å¡\nå†…å®¹ï¼š**å¯ä»¥è€ƒè™‘è½¬åŒ–ä¸ºonnxæ ¼å¼çš„æ¨¡å‹æ¥é€šçŸ¥æ‰§è¡Œ**\næ–‡æ¡£ï¼š4090+esxi+ubuntuè™šæ‹Ÿç¯å¢ƒå®‰è£… \n##2.2 è¿›å…¥CUDAå®˜ç½‘\nå†…å®¹ï¼šCUDAå®˜ç½‘:https://developer.nvidia.com/cuda-toolkit-archive\n\né€‰æ‹©ç›¸åº”ç‰ˆæœ¬å‹å·\n\n\n\n![refs/heads/master/image-20230601002603316](https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/469505aeb3a2f52330266433c225d6f2/e4fb240f5670dd45caceaac8db614d5f.png)\n\n\n\n\n\nä¸‹è½½runæ–‡ä»¶\n\n\n\n```text\nwget https://developer.download.nvidia.com/compute/cuda/12.0.1/local_installers/cuda_12.0.1_525.85.12_linux.run\nsudo sh cuda_12.0.1_525.85.12_linux.run\n\n```\n\naccept åŒæ„ å–æ¶ˆDriverï¼Œå› ä¸ºæˆ‘ä»¬å‰é¢å·²ç»å®‰è£…è¿‡æ˜¾ç¤ºé©±åŠ¨äº†ï¼Œä¸èƒ½é‡å¤å®‰è£…ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚\n\n\n\n![img](https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/fd10750a9216e7e8481fa986baad00c8/80e31a36d5f762ad8c5c23c146db4f38.png)\n\n\n\n\n\nç­‰å¾…æ‰§è¡Œå®Œæ¯•\n\n\n\n![img](https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/fd10750a9216e7e8481fa986baad00c8/1aa9c7f087059a817bb0debaffa0acfa.png)\n\n****\n\n\n\næ·»åŠ ç¯å¢ƒå˜é‡\n\n\n\n```text\nsudo vi ~/.bashrc\n```\n\nå¦‚æœè¦ä½¿æ‰€æœ‰ç”¨æˆ·ç”Ÿæ•ˆï¼Œç¼–è¾‘`/etc/profile`\n\n\n\næœ€åå¢åŠ å¦‚ä¸‹ï¼šè¿™é‡Œçš„è·¯å¾„æ ¹æ®ä¸Šé¢çš„è¾“å‡ºè‡ªåŠ¨ä¿®æ”¹è¿™é‡Œçš„è·¯å¾„æ ¹æ®ä¸Šé¢çš„è¾“å‡ºè‡ªåŠ¨ä¿®æ”¹\n\ncudaç‰ˆæœ¬å¯èƒ½æœ‰å˜ï¼Œçœ‹ä½ è‡ªå·±çš„é…ç½®\n\n```text\nexport  PATH=/usr/local/cuda/bin:$PATH\nexport  LD_LIBRARY_PATH=/usr/local/cuda/lib64:$LD_LIBRARY_PATH\n```\n\n\n\nä½¿ç”Ÿæ•ˆã€‚\n\n\n\n```text\nsource ~/.bashrc \næˆ–è€…ä½¿ç”¨ /etc/profile å…¨å±€ç”Ÿæ•ˆï¼Œæ–¹ä¾¿å®éªŒå®¤ç”¨\n```\næ–‡æ¡£ï¼štesla T4 æ·±åº¦å­¦ä¹ ç¯å¢ƒæ­å»º \n##å®‰è£…CUDAå’ŒcuDNN\nå†…å®¹ï¼šä¸‹è½½runæ–‡ä»¶\n\n```text\nwget https://developer.download.nvidia.com/compute/cuda/11.1.0/local_installers/cuda_11.1.0_455.23.05_linux.run\nsudo sh cuda_11.1.0_455.23.05_linux.run\n```\n\naccept åŒæ„ å–æ¶ˆDriverï¼Œå› ä¸ºæˆ‘ä»¬å‰é¢å·²ç»å®‰è£…è¿‡æ˜¾ç¤ºé©±åŠ¨äº†ï¼Œä¸èƒ½é‡å¤å®‰è£…ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚\n\n![img](https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/fd10750a9216e7e8481fa986baad00c8/80e31a36d5f762ad8c5c23c146db4f38.png)\n\nç­‰å¾…æ‰§è¡Œå®Œæ¯•\n\n![img](https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/fd10750a9216e7e8481fa986baad00c8/1aa9c7f087059a817bb0debaffa0acfa.png)\n\næ·»åŠ ç¯å¢ƒå˜é‡\n\n```text\nsudo vi ~/.bashrc\n```\n\næœ€åå¢åŠ å¦‚ä¸‹ï¼š(è¿™é‡Œçš„è·¯å¾„æ ¹æ®ä¸Šé¢çš„è¾“å‡ºè‡ªåŠ¨ä¿®æ”¹)\n\n```text\nexport  PATH=/usr/local/cuda-11.1/bin:$PATH\nexport  LD_LIBRARY_PATH=/usr/local/cuda-11.1/lib64:$LD_LIBRARY_PATH\n```\n\nä½¿ç”Ÿæ•ˆã€‚\n\n```text\nsource ~/.bashrc \næˆ–è€…ä½¿ç”¨ /etc/profile å…¨å±€ç”Ÿæ•ˆï¼Œæ–¹ä¾¿å®éªŒå®¤ç”¨\n```\n\n\n\næµ‹è¯•æŸ¥çœ‹cudaç‰ˆæœ¬\n\n```\nlabot@gui-gpu:~$ nvcc -V\nnvcc: NVIDIA (R) Cuda compiler driver\nCopyright (c) 2005-2020 NVIDIA Corporation\nBuilt on Tue_Sep_15_19:10:02_PDT_2020\nCuda compilation tools, release 11.1, V11.1.74\nBuild cuda_11.1.TC455_06.29069683_0\n```\n\n\n\n\n\n**ç„¶åæ˜¯cuDNN**\n\n\n\n```\nwget https://developer.nvidia.com/downloads/c118-cudnn-linux-8664-880121cuda11-archivetarz\n```\n\n\n\nå®‰è£…cuDNN v8.2.1(è¯·æ ¹æ®è‡ªå·±çš„éœ€è¦è¿›è¡Œä¸‹è½½ã€‚)**è¿™ä¸ªè¦ç¿»åˆ°ä¸‹é¢ä»¥å‰å‘è¡Œçš„å°±ä¼šæœ‰è¿™ç§cudnnçš„åº“æ–‡ä»¶ä¸‹è½½ã€‚**\n\n[https://developer.nvidia.com/rdp/cudnn-archivedeveloper.nvidia.com/rdp/cudnn-archive](https://link.zhihu.com/?target=https%3A//developer.nvidia.com/rdp/cudnn-archive)\n\n![img](https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/fd10750a9216e7e8481fa986baad00c8/bdf466115f08a53ab2b6a05ebafb9a36.png)\n\nè§£å‹ã€‚\n\n```text\ntar zxvf cudnn-11.3-linux-x64-v8.2.1.32.tgz\n```\n\næœ¬ç›®å½•ä¼šå¤šå‡ºä¸€ä¸ªcudaç›®å½•ï¼Œå°†cudnn.hå¤åˆ¶åˆ°cudaå®‰è£…ç›®å½•ä¸‹çš„includeä¸‹ã€‚\n\n```text\nsudo cp cuda/include/cudnn.h /usr/local/cuda-11.1/include/\n```\n\nå†å°†lib64ä¸‹æ‰€æœ‰çš„soæ–‡ä»¶ï¼Œå¤åˆ¶åˆ°lib64ä¸‹ã€‚\n\n```text\nsudo cp cuda/lib64/lib* /usr/local/cuda-11.1/lib64/\n```\n\nå°†/usr/local/cuda-11.1/lib64ä¸‹çš„æ‰€æœ‰soæ–‡ä»¶ï¼Œå¤åˆ¶åˆ°/usr/libä¸‹ï¼Œé˜²æ­¢è°ƒç”¨æ—¶æ‰¾ä¸åˆ°(éå¿…è¦)\n\n```text\nsudo cp /usr/local/cuda-11.1/lib64/* /usr/lib/\n```\n\næ·»åŠ å¯æ‰§è¡Œæƒé™\n\n```\nsudo chmod a+r /usr/local/cuda/include/cudnn.h /usr/local/cuda/lib64/libcudnn*\n```\næ–‡æ¡£ï¼šHRé—®é¢˜ \n#5.æ€ä¹ˆå­¦ä¹ ä¸€ä¸ªæ–°æŠ€æœ¯\nå†…å®¹ï¼šç¬¬ä¸€ä¸ªå°±æ˜¯ç¡®è®¤æˆ‘è¦å­¦ä¹ çš„æ˜¯ä»€ä¹ˆï¼Œç„¶ååˆç†åšå‡ºè§„åˆ’ï¼ˆæ¯”å¦‚ä¸€ä¸ªæ ‘å½¢çš„æŠ€èƒ½å›¾ï¼Œè¦å­¦ä¹ è¿™ä¸ªéœ€è¦å…ˆå­¦ä¹ ä»€ä¹ˆï¼‰ã€‚ï¼ˆè¿™ç‚¹ä¸Šï¼Œå¯ä»¥é€‚å½“è¯·æ•™æœ‰ç»éªŒçš„äººï¼Œè®©äººå®¶æä¾›ä¸€ä¸ªå¤§æ¦‚çš„æ–¹å‘ã€‚å¯ä»¥é¿å…èµ°å¼¯è·¯ï¼‰\n\nç„¶åå°±æ˜¯æ‰¾åˆ°å­¦ä¹ èµ„æºï¼Œæˆ‘ä¸ªäººå€¾å‘äºå›¾æ–‡èµ„æºï¼Œç„¶åéƒ¨åˆ†å¾ˆæŠ½è±¡çš„å¯ä»¥è€ƒè™‘è§†é¢‘èµ„æºã€‚ï¼ˆä¸»è¦æ˜¯è§†é¢‘çš„å¤ªæ…¢äº†ï¼‰\n\næœ€åå°±æ˜¯è¦ç»“åˆå®è·µã€‚è¿˜æ˜¯è¦ç”¨åˆ°è¿™ä¸ªæŠ€æœ¯ï¼Œåªæœ‰ç”¨åˆ°æŠ€æœ¯æ‰èƒ½çœŸæ­£çš„å‘ç°ä¸€äº›ç†è®ºä¸Šæ„è¯†ä¸åˆ°çš„é—®é¢˜ï¼Œè¿™ä¹Ÿæ˜¯è‡ªæˆ‘é©±åŠ¨åŠ›æœ€é«˜çš„æ–¹å¼ã€‚ï¼ˆä¸¾ä¾‹æˆ‘ä¹‹å‰å­¦ä¹ arduinoï¼‰\n\n\né—®é¢˜ï¼šlinux æ˜¾å¡é©±åŠ¨æ€ä¹ˆå®‰è£…\nè¦æ±‚ï¼š\n1. ç”¨æˆ·æ˜¯çœ‹ä¸åˆ°æ£€ç´¢åˆ°çš„æ–‡æ¡£çš„ï¼Œæ‰€ä»¥ä½ éœ€è¦æ ¹æ®æ£€ç´¢åˆ°çš„å†…å®¹å›ç­”é—®é¢˜ã€‚\n2. è¯·ä½ å°½å¯èƒ½æ ¹æ®æ£€ç´¢åˆ°çš„å†…å®¹å›ç­”é—®é¢˜ã€‚\n3. å¦‚æœæ— æ³•ä»ä¸Šä¸‹æ–‡å¾—åˆ°ç­”æ¡ˆï¼Œè¯·ç›´æ¥è¯´ä¸çŸ¥é“ã€‚"
  ]
}127.0.0.1 - - [02/Mar/2025 14:21:59] "POST /chat HTTP/1.1" 200 -

[36;1m[1;3m[llm/end][0m [1m[chain:RunnableSequence > llm:ChatOpenAI] [4.13s] Exiting LLM run with output:
[0m{
  "generations": [
    [
      {
        "text": "æ ¹æ®æ£€ç´¢åˆ°çš„å†…å®¹ï¼Œå®‰è£…Linuxæ˜¾å¡é©±åŠ¨çš„æ­¥éª¤å¦‚ä¸‹ï¼š\n\n1. å»NVIDIAå®˜ç½‘ä¸‹è½½å¯¹åº”çš„é©±åŠ¨æ–‡ä»¶ã€‚\n2. ç¦ç”¨nuoveaué©±åŠ¨ã€‚\n3. æ›´æ–°initramfsã€‚\n4. é‡å¯ç³»ç»Ÿã€‚\n5. éªŒè¯å±è”½æ˜¯å¦æˆåŠŸã€‚\n6. å®‰è£…ä¾èµ–è½¯ä»¶gccå’Œmakeã€‚\n7. ç»™é©±åŠ¨æ–‡ä»¶æ·»åŠ å¯æ‰§è¡Œæƒé™å¹¶å®‰è£…ã€‚\n8. éªŒè¯å®‰è£…æ˜¯å¦æˆåŠŸã€‚\n\nå¦‚æœéœ€è¦å®‰è£…CUDAå’ŒcuDNNï¼Œè¿˜éœ€è¦ä¸‹è½½å¯¹åº”çš„æ–‡ä»¶ï¼Œå®‰è£…CUDAå¹¶æ·»åŠ ç¯å¢ƒå˜é‡ï¼Œç„¶åå®‰è£…cuDNNå¹¶å¤åˆ¶æ–‡ä»¶åˆ°ç›¸åº”ç›®å½•ã€‚\n\næ€»çš„æ¥è¯´ï¼Œå®‰è£…Linuxæ˜¾å¡é©±åŠ¨éœ€è¦ä¸‹è½½é©±åŠ¨æ–‡ä»¶ã€ç¦ç”¨æ—§é©±åŠ¨ã€å®‰è£…ä¾èµ–è½¯ä»¶ã€å®‰è£…æ–°é©±åŠ¨å¹¶éªŒè¯å®‰è£…æ˜¯å¦æˆåŠŸã€‚",
        "generation_info": {
          "finish_reason": "stop",
          "logprobs": null
        },
        "type": "ChatGeneration",
        "message": {
          "lc": 1,
          "type": "constructor",
          "id": [
            "langchain",
            "schema",
            "messages",
            "AIMessage"
          ],
          "kwargs": {
            "content": "æ ¹æ®æ£€ç´¢åˆ°çš„å†…å®¹ï¼Œå®‰è£…Linuxæ˜¾å¡é©±åŠ¨çš„æ­¥éª¤å¦‚ä¸‹ï¼š\n\n1. å»NVIDIAå®˜ç½‘ä¸‹è½½å¯¹åº”çš„é©±åŠ¨æ–‡ä»¶ã€‚\n2. ç¦ç”¨nuoveaué©±åŠ¨ã€‚\n3. æ›´æ–°initramfsã€‚\n4. é‡å¯ç³»ç»Ÿã€‚\n5. éªŒè¯å±è”½æ˜¯å¦æˆåŠŸã€‚\n6. å®‰è£…ä¾èµ–è½¯ä»¶gccå’Œmakeã€‚\n7. ç»™é©±åŠ¨æ–‡ä»¶æ·»åŠ å¯æ‰§è¡Œæƒé™å¹¶å®‰è£…ã€‚\n8. éªŒè¯å®‰è£…æ˜¯å¦æˆåŠŸã€‚\n\nå¦‚æœéœ€è¦å®‰è£…CUDAå’ŒcuDNNï¼Œè¿˜éœ€è¦ä¸‹è½½å¯¹åº”çš„æ–‡ä»¶ï¼Œå®‰è£…CUDAå¹¶æ·»åŠ ç¯å¢ƒå˜é‡ï¼Œç„¶åå®‰è£…cuDNNå¹¶å¤åˆ¶æ–‡ä»¶åˆ°ç›¸åº”ç›®å½•ã€‚\n\næ€»çš„æ¥è¯´ï¼Œå®‰è£…Linuxæ˜¾å¡é©±åŠ¨éœ€è¦ä¸‹è½½é©±åŠ¨æ–‡ä»¶ã€ç¦ç”¨æ—§é©±åŠ¨ã€å®‰è£…ä¾èµ–è½¯ä»¶ã€å®‰è£…æ–°é©±åŠ¨å¹¶éªŒè¯å®‰è£…æ˜¯å¦æˆåŠŸã€‚",
            "additional_kwargs": {
              "refusal": null
            },
            "response_metadata": {
              "token_usage": {
                "completion_tokens": 226,
                "prompt_tokens": 3139,
                "total_tokens": 3365,
                "completion_tokens_details": null,
                "prompt_tokens_details": null
              },
              "model_name": "gpt-3.5-turbo",
              "system_fingerprint": "fp_0165350fbb",
              "finish_reason": "stop",
              "logprobs": null
            },
            "type": "ai",
            "id": "run-42dcc399-1671-484f-b59f-1cb08586990e-0",
            "usage_metadata": {
              "input_tokens": 3139,
              "output_tokens": 226,
              "total_tokens": 3365,
              "input_token_details": {},
              "output_token_details": {}
            },
            "tool_calls": [],
            "invalid_tool_calls": []
          }
        }
      }
    ]
  ],
  "llm_output": {
    "token_usage": {
      "completion_tokens": 226,
      "prompt_tokens": 3139,
      "total_tokens": 3365,
      "completion_tokens_details": null,
      "prompt_tokens_details": null
    },
    "model_name": "gpt-3.5-turbo",
    "system_fingerprint": "fp_0165350fbb"
  },
  "run": null,
  "type": "LLMResult"
}
[32;1m[1;3m[chain/start][0m [1m[chain:RunnableSequence > parser:StrOutputParser] Entering Parser run with input:
[0m[inputs]
[36;1m[1;3m[chain/end][0m [1m[chain:RunnableSequence > parser:StrOutputParser] [1ms] Exiting Parser run with output:
[0m{
  "output": "æ ¹æ®æ£€ç´¢åˆ°çš„å†…å®¹ï¼Œå®‰è£…Linuxæ˜¾å¡é©±åŠ¨çš„æ­¥éª¤å¦‚ä¸‹ï¼š\n\n1. å»NVIDIAå®˜ç½‘ä¸‹è½½å¯¹åº”çš„é©±åŠ¨æ–‡ä»¶ã€‚\n2. ç¦ç”¨nuoveaué©±åŠ¨ã€‚\n3. æ›´æ–°initramfsã€‚\n4. é‡å¯ç³»ç»Ÿã€‚\n5. éªŒè¯å±è”½æ˜¯å¦æˆåŠŸã€‚\n6. å®‰è£…ä¾èµ–è½¯ä»¶gccå’Œmakeã€‚\n7. ç»™é©±åŠ¨æ–‡ä»¶æ·»åŠ å¯æ‰§è¡Œæƒé™å¹¶å®‰è£…ã€‚\n8. éªŒè¯å®‰è£…æ˜¯å¦æˆåŠŸã€‚\n\nå¦‚æœéœ€è¦å®‰è£…CUDAå’ŒcuDNNï¼Œè¿˜éœ€è¦ä¸‹è½½å¯¹åº”çš„æ–‡ä»¶ï¼Œå®‰è£…CUDAå¹¶æ·»åŠ ç¯å¢ƒå˜é‡ï¼Œç„¶åå®‰è£…cuDNNå¹¶å¤åˆ¶æ–‡ä»¶åˆ°ç›¸åº”ç›®å½•ã€‚\n\næ€»çš„æ¥è¯´ï¼Œå®‰è£…Linuxæ˜¾å¡é©±åŠ¨éœ€è¦ä¸‹è½½é©±åŠ¨æ–‡ä»¶ã€ç¦ç”¨æ—§é©±åŠ¨ã€å®‰è£…ä¾èµ–è½¯ä»¶ã€å®‰è£…æ–°é©±åŠ¨å¹¶éªŒè¯å®‰è£…æ˜¯å¦æˆåŠŸã€‚"
}
[36;1m[1;3m[chain/end][0m [1m[chain:RunnableSequence] [4.56s] Exiting Chain run with output:
[0m{
  "output": "æ ¹æ®æ£€ç´¢åˆ°çš„å†…å®¹ï¼Œå®‰è£…Linuxæ˜¾å¡é©±åŠ¨çš„æ­¥éª¤å¦‚ä¸‹ï¼š\n\n1. å»NVIDIAå®˜ç½‘ä¸‹è½½å¯¹åº”çš„é©±åŠ¨æ–‡ä»¶ã€‚\n2. ç¦ç”¨nuoveaué©±åŠ¨ã€‚\n3. æ›´æ–°initramfsã€‚\n4. é‡å¯ç³»ç»Ÿã€‚\n5. éªŒè¯å±è”½æ˜¯å¦æˆåŠŸã€‚\n6. å®‰è£…ä¾èµ–è½¯ä»¶gccå’Œmakeã€‚\n7. ç»™é©±åŠ¨æ–‡ä»¶æ·»åŠ å¯æ‰§è¡Œæƒé™å¹¶å®‰è£…ã€‚\n8. éªŒè¯å®‰è£…æ˜¯å¦æˆåŠŸã€‚\n\nå¦‚æœéœ€è¦å®‰è£…CUDAå’ŒcuDNNï¼Œè¿˜éœ€è¦ä¸‹è½½å¯¹åº”çš„æ–‡ä»¶ï¼Œå®‰è£…CUDAå¹¶æ·»åŠ ç¯å¢ƒå˜é‡ï¼Œç„¶åå®‰è£…cuDNNå¹¶å¤åˆ¶æ–‡ä»¶åˆ°ç›¸åº”ç›®å½•ã€‚\n\næ€»çš„æ¥è¯´ï¼Œå®‰è£…Linuxæ˜¾å¡é©±åŠ¨éœ€è¦ä¸‹è½½é©±åŠ¨æ–‡ä»¶ã€ç¦ç”¨æ—§é©±åŠ¨ã€å®‰è£…ä¾èµ–è½¯ä»¶ã€å®‰è£…æ–°é©±åŠ¨å¹¶éªŒè¯å®‰è£…æ˜¯å¦æˆåŠŸã€‚"
}
after request
******************************
linux ç½‘å¡é©±åŠ¨
[32;1m[1;3m[chain/start][0m [1m[chain:RunnableSequence] Entering Chain run with input:
[0m{
  "input": "linux ç½‘å¡é©±åŠ¨"
}
[32;1m[1;3m[chain/start][0m [1m[chain:RunnableSequence > chain:RunnableParallel<context,question>] Entering Chain run with input:
[0m{
  "input": "linux ç½‘å¡é©±åŠ¨"
}
[32;1m[1;3m[chain/start][0m [1m[chain:RunnableSequence > chain:RunnableParallel<context,question> > chain:RunnablePassthrough] Entering Chain run with input:
[0m{
  "input": "linux ç½‘å¡é©±åŠ¨"
}
[36;1m[1;3m[chain/end][0m [1m[chain:RunnableSequence > chain:RunnableParallel<context,question> > chain:RunnablePassthrough] [0ms] Exiting Chain run with output:
[0m{
  "output": "linux ç½‘å¡é©±åŠ¨"
}
[36;1m[1;3m[chain/end][0m [1m[chain:RunnableSequence > chain:RunnableParallel<context,question>] [41ms] Exiting Chain run with output:
[0m{
  "context": "æ–‡æ¡£ï¼šlinux åŒç½‘å¡å†…å¤–ç½‘è®¿é—®\nlinux åŒç½‘å¡å†…å¤–ç½‘è®¿é—®\nå†…å®¹ï¼š\nå•ç½‘å¡å¤šipè®¾ç½®\nå†…å®¹ï¼š\næ–‡æ¡£ï¼šopenwrtçš„dhcpç»‘å®šä¸è®¾ç½®è¯¦è§£ \n##å®¢æˆ·ç«¯åˆ·æ–°\nå†…å®¹ï¼š```\n# win\n>ipconfig /release\n\n# mac\nsudo ipconfig set en9 DHCP #en9æ˜¯ç½‘å¡åå­—\n\n# linux\ndhclient -r\n```\næ–‡æ¡£ï¼š4090+esxi+ubuntuè™šæ‹Ÿç¯å¢ƒå®‰è£… \n#NVIDIAé©±åŠ¨\nå†…å®¹ï¼šå‚è€ƒç›¸å…³åšå®¢ï¼Œè¦æ³¨æ„ä¸€äº›è™šæ‹Ÿæœºçš„å‚æ•°æ·»åŠ é—®é¢˜ã€‚\n\n\n\n[å®˜ç½‘é“¾æ¥](https://www.nvidia.cn/Download/index.aspx?lang=cn)\n\nå»å®˜ç½‘ä¸‹è½½é©±åŠ¨\n\n![refs/heads/master/image-20230601000105656](https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/469505aeb3a2f52330266433c225d6f2/e525db42ac109a6dffaaf2658360ffaf.png)\n\n\n\n`wget https://us.download.nvidia.com/XFree86/Linux-x86_64/525.116.04/NVIDIA-Linux-x86_64-525.116.04.run`\n\nä¸‹è½½runæ–‡ä»¶åï¼Œå…ˆåˆ«ç€æ€¥å®‰è£…ï¼Œéœ€å…ˆç¦ç”¨nuoveau\n\n\n\n```text\nsudo vi /etc/modprobe.d/blacklist.conf \n```\n\nä¸‹é¢ä¸¤è¡ŒåŠ åˆ°æœ«å°¾\n\n\n\n```text\nblacklist nouveau\noptions nouveau modeset=0\n```\n\næ›´æ–°initramfsï¼Œéœ€è¦ç¨å¾®ç­‰ä¸€ä¼š\n\n\n\n```text\nsudo update-initramfs -u\n```\n\né‡å¯ç³»ç»Ÿã€‚\n\néªŒè¯å±è”½æ˜¯å¦æˆåŠŸï¼Œæ‰§è¡Œä¸‹é¢è¯­å¥ï¼Œç»“æœä¸ºç©ºï¼Œå³ä¸ºæˆåŠŸã€‚\n\n\n\n```text\nlsmod | grep nouveau\n```\n\næ‰§è¡Œå®‰è£…\n\nå…ˆå®‰è£…ä¾èµ–è½¯ä»¶ï¼Œgcc makeã€‚è‹¥å·²å®‰è£…åˆ™å»ºç«‹cc makeè½¯é“¾æ¥\n\n\n\n```text\nsudo apt install gcc\n```\n\n```text\nsudo apt install make\n```\n\nGNU Make 4.2.1\n\n```text\nchmod +x NVIDIA-Linux-x86_64-460.106.00.run \nsudo bash ./NVIDIA-Linux-x86_64-460.106.00.run\n```\n\nå®‰è£…è¿‡ç¨‹ä¸­ï¼Œ\n\nInstall 32 bit compatibility libraries ï¼Ÿ é€‰æ‹©No\n\nå®‰è£…å®Œæ¯•åï¼Œè¾“å…¥\n\n\n\n```text\nnvidia-smi\n```\næ–‡æ¡£ï¼šlinux åŒç½‘å¡å†…å¤–ç½‘è®¿é—® \n#æ€è·¯\nå†…å®¹ï¼š- ä¸€å¼ ç½‘å¡ä½œä¸ºä¸»è¦ç½‘å¡ï¼Œé»˜è®¤ç½‘å…³ã€‚èµ°å¤–ç½‘\n- å¦ä¸€å¼ åˆ™æ·»åŠ è·¯ç”±è¡¨ä»…é€šå‘å†…ç½‘çš„ipèµ°è¯¥ç½‘å¡\næ–‡æ¡£ï¼šopenwrt mwan é…ç½®å¤šwanå¤åˆ¶å‡è¡¡ \n#openwrtæ–°å»ºå¤šä¸ªwanå£\nå†…å®¹ï¼š- å¯ä»¥é‡‡å–å¤šçº¿å¤šå£çš„æ–¹å¼ã€‚å¤šä¸ªç‰©ç†æ¥å£å¯¹åº”å¤šä¸ªwanå£\n- æˆ–è€…é‡‡å–å•çº¿å¤šæ‹¨çš„æ–¹å¼ï¼Œä½†æ˜¯è¿è¡Œå•†ä¸ä¸€å®šæ”¯æŒã€‚\n  - åœ¨å•ä¸ªç½‘å¡ä¸Šè™šæ‹Ÿå‡ºå¤šä¸ªç½‘å¡\n  - ä¸åŒç½‘å¡ä¸åŒçš„ipï¼Œmac\næ–‡æ¡£ï¼šè¿ç»´ç›¸å…³é¢è¯•é¢˜ \n##**Linuxå¼€æœºè‡ªå¯è¿‡ç¨‹ï¼Ÿ**\nå†…å®¹ï¼š**1ï¼Œpower on å¼€æœº**\n**2ï¼ŒPOSTå¼€æœºè‡ªæ£€**\nç”±ä¸»æ¿ä¸Šçš„[BIOS](https://so.csdn.net/so/search?q=BIOS&spm=1001.2101.3001.7020)ç¨‹åºæ¥å®Œæˆ\n**3ï¼ŒBIOSå¯¹ç¡¬ä»¶è¿›è¡Œæ£€æµ‹**\nBIOSï¼šåŸºæœ¬è¾“å…¥è¾“å‡ºç³»ç»Ÿï¼Œæ˜¯ä¸ªäººç”µè„‘å¯åŠ¨æ—¶åŠ è½½çš„ç¬¬ä¸€ä¸ªè½¯ä»¶ã€‚å¯ä»CMOSä¸­è¯»å†™ç³»ç»Ÿè®¾ç½®çš„å…·ä½“ä¿¡æ¯ã€‚\n\n**4ï¼Œbootå¯åŠ¨é¡ºåºæ£€æŸ¥**\nhard drive ç¡¬ç›˜\ncdrom å…‰é©±\nremoveable device å¯ç§»åŠ¨è®¾å¤‡\nNetwork ä»ç½‘ç»œä¸­çš„æœåŠ¡å™¨å¯åŠ¨\nä¸€èˆ¬ä»ç¡¬ç›˜å¯åŠ¨\n**5ï¼Œç¡¬ç›˜**\nç¡¬ç›˜é‡Œæœ‰ä¸€ä¸ªMBRåˆ†åŒº\n**6ï¼ŒMBR**\nä¸»å¼•å¯¼è®°å½•ï¼ŒMBRæ˜¯ç¬¬ä¸€ä¸ªå¯å¼€æœºè®¾å¤‡çš„ç¬¬ä¸€ä¸ªæ‰‡åŒºçš„å¼•å¯¼åˆ†åŒºå—ï¼Œå†…åŒ…å«å¼•å¯¼åŠ è½½ç¨‹åºï¼Œç”µè„‘å¼€æœºçš„æ—¶å€™ï¼Œè®¡ç®—æœºç³»ç»Ÿä¼šä¸»åŠ¨å»æ‰§è¡ŒBIOSè¿™ä¸ªç¨‹åºï¼Œç„¶åBIOSä¼šåˆ†æè®¡ç®—æœºä¸Šçš„å­˜å‚¨è®¾å¤‡ï¼Œç¡¬ç›˜çš„è¯ï¼ŒBIOSä¼šåˆ°è¯¥ç¡¬ç›˜é‡Œé¢å»è¯»å–ç¬¬ä¸€ä¸ªæ‰‡åŒºçš„MBRä½ç½®ï¼ŒMBRé‡Œé¢æ”¾ç€å¼•å¯¼åŠ è½½ç¨‹åºï¼ŒåŠ è½½å†…æ ¸æ–‡ä»¶\n**7,groub2å¼•å¯¼å¯åŠ¨ç¨‹åº**\né‡Œé¢çš„ext4é©±åŠ¨ï¼Œå¯ä»¥è¯†åˆ«/bootåˆ†åŒºé‡Œçš„å†…å®¹\n\n**8ï¼Œ/boot**\n/bootåˆ†åŒºé‡Œæœ‰vmlinuxz å’Œinitramfsæ‰§è¡Œè¿™ä¸¤ä¸ªæ–‡ä»¶ï¼Œå°†å…¶åŠ è½½åˆ°å†…å­˜\n*vmlinuz-4.18.0-147.el8.x86_64 çœŸæ­£çš„linuxå†…æ ¸ç¨‹åº\ninitramfs-4.18.0-147.el8.x86_64.img --ä¸ºå†…æ ¸é…å¥—çš„æ–‡ä»¶ç³»ç»Ÿï¼Œå­˜æ”¾äº†å¾ˆå¤šçš„é©±åŠ¨*\n\n*æ³¨ï¼šinitramfsæ–‡ä»¶å¯ä»¥è§£å‹ï¼š\ncpio -idmv < ./initramfs.img*\n\n**9.å¯åŠ¨systemdè¿›ç¨‹**\nsystemdè¿›ç¨‹ æ˜¯linuxé‡Œçš„ç¬¬1ä¸ªè¿›ç¨‹\n**10ï¼Œå¯åŠ¨å¯¹åº”çš„è¿è¡Œçº§åˆ«é‡Œçš„æœåŠ¡**\n\n**11ï¼Œä¹‹åè¿›å…¥loginç™»å½•é¡µé¢ï¼ˆè¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼‰**\næ–‡æ¡£ï¼štesla T4 æ·±åº¦å­¦ä¹ ç¯å¢ƒæ­å»º \n##NVIDIAçš„é©±åŠ¨\nå†…å®¹ï¼š```\n wget https://cn.download.nvidia.com/tesla/460.106.00/NVIDIA-Linux-x86_64-460.106.00.run\n```\n\nä¸‹è½½debæ–‡ä»¶åï¼Œå…ˆåˆ«ç€æ€¥å®‰è£…ï¼Œéœ€å…ˆç¦ç”¨nuoveau\n\n```text\nsudo vi /etc/modprobe.d/blacklist.conf \n```\n\nä¸‹é¢ä¸¤è¡ŒåŠ åˆ°æœ«å°¾\n\n```text\nblacklist nouveau\noptions nouveau modeset=0\n```\n\næ›´æ–°initramfsï¼Œéœ€è¦ç¨å¾®ç­‰ä¸€ä¼š\n\n```text\nsudo update-initramfs -u\n```\n\né‡å¯ç³»ç»Ÿã€‚\n\néªŒè¯å±è”½æ˜¯å¦æˆåŠŸï¼Œæ‰§è¡Œä¸‹é¢è¯­å¥ï¼Œç»“æœä¸ºç©ºï¼Œå³ä¸ºæˆåŠŸã€‚\n\n```text\nlsmod | grep nouveau\n```\n\næ‰§è¡Œå®‰è£…\n\nå…ˆå®‰è£…ä¾èµ–è½¯ä»¶ï¼Œgcc makeã€‚è‹¥å·²å®‰è£…åˆ™å»ºç«‹cc makeè½¯é“¾æ¥\n\n```text\nsudo apt install gcc\n```\n\ngcc version 9.4.0 (Ubuntu 9.4.0-1ubuntu1~20.04.1)\n\n```text\nsudo apt install make\n```\n\nGNU Make 4.2.1\n\n```text\nchmod +x NVIDIA-Linux-x86_64-460.106.00.run \nsudo bash ./NVIDIA-Linux-x86_64-460.106.00.run\n```\n\nå®‰è£…è¿‡ç¨‹ä¸­ï¼Œ\n\nInstall 32 bit compatibility libraries ï¼Ÿ é€‰æ‹©No\n\nå®‰è£…å®Œæ¯•åï¼Œè¾“å…¥\n\n```text\nnvidia-smi\n```\n\n![img](https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/fd10750a9216e7e8481fa986baad00c8/e5eef861ebafd1e5104dac0a107afa79.png)\næ–‡æ¡£ï¼šopenwrt dockeræ—è·¯ç”± \n##æ­£æ–‡\nå†…å®¹ï¼šæˆ‘çš„è·¯ç”±å™¨ç½‘å…³192.168.0.1ã€‚å­ç½‘æ©ç 24ä½\n\n\n\n\n\n**eth0æ˜¯ç½‘å¡åï¼Œæ ¹æ®å…·ä½“æƒ…å†µæ›´æ”¹é…ç½®**\n\n```\n# å¼€å¯æ··æ‚æ¨¡å¼\nip link set  eth0 promisc on\n\ndocker network create -d macvlan --subnet=192.168.0.0/24 --gateway=192.168.0.1 -o parent=eth0 macnet\n```\n\næˆ‘çš„linuxç½‘ç»œæœ¬æœºipæ˜¯ï¼š192.168.0.208\n\n\n\nopenwrtè¦è®¾ç½®ä¸ºä¸€ä¸ªä¸æœ¬æœºipä¸åŒçš„ï¼Œä¸”åœ¨åŒä¸€ä¸ªç½‘æ®µçš„\n\n```\ndocker run -d \\\n--restart always \\\n--network macnet \\\n--privileged \\\n--name openwrt_lwl \\\nsulinggg/openwrt:x86_64 /sbin/init\n```\n\n**å®¹å™¨ç‰ˆæœ¬å¾—ä¸æœ¬æœºä¸€è‡´ã€‚**\næ–‡æ¡£ï¼šè®¡ç®—æœºç½‘ç»œ \n##MAC åœ°å€\nå†…å®¹ï¼šMAC åœ°å€æ˜¯**é“¾è·¯å±‚åœ°å€ï¼Œé•¿åº¦ä¸º 6 å­—èŠ‚ï¼ˆ48 ä½ï¼Œå…±2*6ä¸ªå­—æ¯æ•°å­—è¡¨ç¤ºï¼‰ï¼Œç”¨äºå”¯ä¸€æ ‡è¯†ç½‘ç»œé€‚é…å™¨ï¼ˆç½‘å¡ï¼‰**ã€‚ï¼ˆå¯ä»¥æœ‰è™šæ‹Ÿç½‘å¡ï¼‰\n",
  "question": "linux ç½‘å¡é©±åŠ¨"
}
[32;1m[1;3m[chain/start][0m [1m[chain:RunnableSequence > prompt:ChatPromptTemplate] Entering Prompt run with input:
[0m{
  "context": "æ–‡æ¡£ï¼šlinux åŒç½‘å¡å†…å¤–ç½‘è®¿é—®\nlinux åŒç½‘å¡å†…å¤–ç½‘è®¿é—®\nå†…å®¹ï¼š\nå•ç½‘å¡å¤šipè®¾ç½®\nå†…å®¹ï¼š\næ–‡æ¡£ï¼šopenwrtçš„dhcpç»‘å®šä¸è®¾ç½®è¯¦è§£ \n##å®¢æˆ·ç«¯åˆ·æ–°\nå†…å®¹ï¼š```\n# win\n>ipconfig /release\n\n# mac\nsudo ipconfig set en9 DHCP #en9æ˜¯ç½‘å¡åå­—\n\n# linux\ndhclient -r\n```\næ–‡æ¡£ï¼š4090+esxi+ubuntuè™šæ‹Ÿç¯å¢ƒå®‰è£… \n#NVIDIAé©±åŠ¨\nå†…å®¹ï¼šå‚è€ƒç›¸å…³åšå®¢ï¼Œè¦æ³¨æ„ä¸€äº›è™šæ‹Ÿæœºçš„å‚æ•°æ·»åŠ é—®é¢˜ã€‚\n\n\n\n[å®˜ç½‘é“¾æ¥](https://www.nvidia.cn/Download/index.aspx?lang=cn)\n\nå»å®˜ç½‘ä¸‹è½½é©±åŠ¨\n\n![refs/heads/master/image-20230601000105656](https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/469505aeb3a2f52330266433c225d6f2/e525db42ac109a6dffaaf2658360ffaf.png)\n\n\n\n`wget https://us.download.nvidia.com/XFree86/Linux-x86_64/525.116.04/NVIDIA-Linux-x86_64-525.116.04.run`\n\nä¸‹è½½runæ–‡ä»¶åï¼Œå…ˆåˆ«ç€æ€¥å®‰è£…ï¼Œéœ€å…ˆç¦ç”¨nuoveau\n\n\n\n```text\nsudo vi /etc/modprobe.d/blacklist.conf \n```\n\nä¸‹é¢ä¸¤è¡ŒåŠ åˆ°æœ«å°¾\n\n\n\n```text\nblacklist nouveau\noptions nouveau modeset=0\n```\n\næ›´æ–°initramfsï¼Œéœ€è¦ç¨å¾®ç­‰ä¸€ä¼š\n\n\n\n```text\nsudo update-initramfs -u\n```\n\né‡å¯ç³»ç»Ÿã€‚\n\néªŒè¯å±è”½æ˜¯å¦æˆåŠŸï¼Œæ‰§è¡Œä¸‹é¢è¯­å¥ï¼Œç»“æœä¸ºç©ºï¼Œå³ä¸ºæˆåŠŸã€‚\n\n\n\n```text\nlsmod | grep nouveau\n```\n\næ‰§è¡Œå®‰è£…\n\nå…ˆå®‰è£…ä¾èµ–è½¯ä»¶ï¼Œgcc makeã€‚è‹¥å·²å®‰è£…åˆ™å»ºç«‹cc makeè½¯é“¾æ¥\n\n\n\n```text\nsudo apt install gcc\n```\n\n```text\nsudo apt install make\n```\n\nGNU Make 4.2.1\n\n```text\nchmod +x NVIDIA-Linux-x86_64-460.106.00.run \nsudo bash ./NVIDIA-Linux-x86_64-460.106.00.run\n```\n\nå®‰è£…è¿‡ç¨‹ä¸­ï¼Œ\n\nInstall 32 bit compatibility libraries ï¼Ÿ é€‰æ‹©No\n\nå®‰è£…å®Œæ¯•åï¼Œè¾“å…¥\n\n\n\n```text\nnvidia-smi\n```\næ–‡æ¡£ï¼šlinux åŒç½‘å¡å†…å¤–ç½‘è®¿é—® \n#æ€è·¯\nå†…å®¹ï¼š- ä¸€å¼ ç½‘å¡ä½œä¸ºä¸»è¦ç½‘å¡ï¼Œé»˜è®¤ç½‘å…³ã€‚èµ°å¤–ç½‘\n- å¦ä¸€å¼ åˆ™æ·»åŠ è·¯ç”±è¡¨ä»…é€šå‘å†…ç½‘çš„ipèµ°è¯¥ç½‘å¡\næ–‡æ¡£ï¼šopenwrt mwan é…ç½®å¤šwanå¤åˆ¶å‡è¡¡ \n#openwrtæ–°å»ºå¤šä¸ªwanå£\nå†…å®¹ï¼š- å¯ä»¥é‡‡å–å¤šçº¿å¤šå£çš„æ–¹å¼ã€‚å¤šä¸ªç‰©ç†æ¥å£å¯¹åº”å¤šä¸ªwanå£\n- æˆ–è€…é‡‡å–å•çº¿å¤šæ‹¨çš„æ–¹å¼ï¼Œä½†æ˜¯è¿è¡Œå•†ä¸ä¸€å®šæ”¯æŒã€‚\n  - åœ¨å•ä¸ªç½‘å¡ä¸Šè™šæ‹Ÿå‡ºå¤šä¸ªç½‘å¡\n  - ä¸åŒç½‘å¡ä¸åŒçš„ipï¼Œmac\næ–‡æ¡£ï¼šè¿ç»´ç›¸å…³é¢è¯•é¢˜ \n##**Linuxå¼€æœºè‡ªå¯è¿‡ç¨‹ï¼Ÿ**\nå†…å®¹ï¼š**1ï¼Œpower on å¼€æœº**\n**2ï¼ŒPOSTå¼€æœºè‡ªæ£€**\nç”±ä¸»æ¿ä¸Šçš„[BIOS](https://so.csdn.net/so/search?q=BIOS&spm=1001.2101.3001.7020)ç¨‹åºæ¥å®Œæˆ\n**3ï¼ŒBIOSå¯¹ç¡¬ä»¶è¿›è¡Œæ£€æµ‹**\nBIOSï¼šåŸºæœ¬è¾“å…¥è¾“å‡ºç³»ç»Ÿï¼Œæ˜¯ä¸ªäººç”µè„‘å¯åŠ¨æ—¶åŠ è½½çš„ç¬¬ä¸€ä¸ªè½¯ä»¶ã€‚å¯ä»CMOSä¸­è¯»å†™ç³»ç»Ÿè®¾ç½®çš„å…·ä½“ä¿¡æ¯ã€‚\n\n**4ï¼Œbootå¯åŠ¨é¡ºåºæ£€æŸ¥**\nhard drive ç¡¬ç›˜\ncdrom å…‰é©±\nremoveable device å¯ç§»åŠ¨è®¾å¤‡\nNetwork ä»ç½‘ç»œä¸­çš„æœåŠ¡å™¨å¯åŠ¨\nä¸€èˆ¬ä»ç¡¬ç›˜å¯åŠ¨\n**5ï¼Œç¡¬ç›˜**\nç¡¬ç›˜é‡Œæœ‰ä¸€ä¸ªMBRåˆ†åŒº\n**6ï¼ŒMBR**\nä¸»å¼•å¯¼è®°å½•ï¼ŒMBRæ˜¯ç¬¬ä¸€ä¸ªå¯å¼€æœºè®¾å¤‡çš„ç¬¬ä¸€ä¸ªæ‰‡åŒºçš„å¼•å¯¼åˆ†åŒºå—ï¼Œå†…åŒ…å«å¼•å¯¼åŠ è½½ç¨‹åºï¼Œç”µè„‘å¼€æœºçš„æ—¶å€™ï¼Œè®¡ç®—æœºç³»ç»Ÿä¼šä¸»åŠ¨å»æ‰§è¡ŒBIOSè¿™ä¸ªç¨‹åºï¼Œç„¶åBIOSä¼šåˆ†æè®¡ç®—æœºä¸Šçš„å­˜å‚¨è®¾å¤‡ï¼Œç¡¬ç›˜çš„è¯ï¼ŒBIOSä¼šåˆ°è¯¥ç¡¬ç›˜é‡Œé¢å»è¯»å–ç¬¬ä¸€ä¸ªæ‰‡åŒºçš„MBRä½ç½®ï¼ŒMBRé‡Œé¢æ”¾ç€å¼•å¯¼åŠ è½½ç¨‹åºï¼ŒåŠ è½½å†…æ ¸æ–‡ä»¶\n**7,groub2å¼•å¯¼å¯åŠ¨ç¨‹åº**\né‡Œé¢çš„ext4é©±åŠ¨ï¼Œå¯ä»¥è¯†åˆ«/bootåˆ†åŒºé‡Œçš„å†…å®¹\n\n**8ï¼Œ/boot**\n/bootåˆ†åŒºé‡Œæœ‰vmlinuxz å’Œinitramfsæ‰§è¡Œè¿™ä¸¤ä¸ªæ–‡ä»¶ï¼Œå°†å…¶åŠ è½½åˆ°å†…å­˜\n*vmlinuz-4.18.0-147.el8.x86_64 çœŸæ­£çš„linuxå†…æ ¸ç¨‹åº\ninitramfs-4.18.0-147.el8.x86_64.img --ä¸ºå†…æ ¸é…å¥—çš„æ–‡ä»¶ç³»ç»Ÿï¼Œå­˜æ”¾äº†å¾ˆå¤šçš„é©±åŠ¨*\n\n*æ³¨ï¼šinitramfsæ–‡ä»¶å¯ä»¥è§£å‹ï¼š\ncpio -idmv < ./initramfs.img*\n\n**9.å¯åŠ¨systemdè¿›ç¨‹**\nsystemdè¿›ç¨‹ æ˜¯linuxé‡Œçš„ç¬¬1ä¸ªè¿›ç¨‹\n**10ï¼Œå¯åŠ¨å¯¹åº”çš„è¿è¡Œçº§åˆ«é‡Œçš„æœåŠ¡**\n\n**11ï¼Œä¹‹åè¿›å…¥loginç™»å½•é¡µé¢ï¼ˆè¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼‰**\næ–‡æ¡£ï¼štesla T4 æ·±åº¦å­¦ä¹ ç¯å¢ƒæ­å»º \n##NVIDIAçš„é©±åŠ¨\nå†…å®¹ï¼š```\n wget https://cn.download.nvidia.com/tesla/460.106.00/NVIDIA-Linux-x86_64-460.106.00.run\n```\n\nä¸‹è½½debæ–‡ä»¶åï¼Œå…ˆåˆ«ç€æ€¥å®‰è£…ï¼Œéœ€å…ˆç¦ç”¨nuoveau\n\n```text\nsudo vi /etc/modprobe.d/blacklist.conf \n```\n\nä¸‹é¢ä¸¤è¡ŒåŠ åˆ°æœ«å°¾\n\n```text\nblacklist nouveau\noptions nouveau modeset=0\n```\n\næ›´æ–°initramfsï¼Œéœ€è¦ç¨å¾®ç­‰ä¸€ä¼š\n\n```text\nsudo update-initramfs -u\n```\n\né‡å¯ç³»ç»Ÿã€‚\n\néªŒè¯å±è”½æ˜¯å¦æˆåŠŸï¼Œæ‰§è¡Œä¸‹é¢è¯­å¥ï¼Œç»“æœä¸ºç©ºï¼Œå³ä¸ºæˆåŠŸã€‚\n\n```text\nlsmod | grep nouveau\n```\n\næ‰§è¡Œå®‰è£…\n\nå…ˆå®‰è£…ä¾èµ–è½¯ä»¶ï¼Œgcc makeã€‚è‹¥å·²å®‰è£…åˆ™å»ºç«‹cc makeè½¯é“¾æ¥\n\n```text\nsudo apt install gcc\n```\n\ngcc version 9.4.0 (Ubuntu 9.4.0-1ubuntu1~20.04.1)\n\n```text\nsudo apt install make\n```\n\nGNU Make 4.2.1\n\n```text\nchmod +x NVIDIA-Linux-x86_64-460.106.00.run \nsudo bash ./NVIDIA-Linux-x86_64-460.106.00.run\n```\n\nå®‰è£…è¿‡ç¨‹ä¸­ï¼Œ\n\nInstall 32 bit compatibility libraries ï¼Ÿ é€‰æ‹©No\n\nå®‰è£…å®Œæ¯•åï¼Œè¾“å…¥\n\n```text\nnvidia-smi\n```\n\n![img](https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/fd10750a9216e7e8481fa986baad00c8/e5eef861ebafd1e5104dac0a107afa79.png)\næ–‡æ¡£ï¼šopenwrt dockeræ—è·¯ç”± \n##æ­£æ–‡\nå†…å®¹ï¼šæˆ‘çš„è·¯ç”±å™¨ç½‘å…³192.168.0.1ã€‚å­ç½‘æ©ç 24ä½\n\n\n\n\n\n**eth0æ˜¯ç½‘å¡åï¼Œæ ¹æ®å…·ä½“æƒ…å†µæ›´æ”¹é…ç½®**\n\n```\n# å¼€å¯æ··æ‚æ¨¡å¼\nip link set  eth0 promisc on\n\ndocker network create -d macvlan --subnet=192.168.0.0/24 --gateway=192.168.0.1 -o parent=eth0 macnet\n```\n\næˆ‘çš„linuxç½‘ç»œæœ¬æœºipæ˜¯ï¼š192.168.0.208\n\n\n\nopenwrtè¦è®¾ç½®ä¸ºä¸€ä¸ªä¸æœ¬æœºipä¸åŒçš„ï¼Œä¸”åœ¨åŒä¸€ä¸ªç½‘æ®µçš„\n\n```\ndocker run -d \\\n--restart always \\\n--network macnet \\\n--privileged \\\n--name openwrt_lwl \\\nsulinggg/openwrt:x86_64 /sbin/init\n```\n\n**å®¹å™¨ç‰ˆæœ¬å¾—ä¸æœ¬æœºä¸€è‡´ã€‚**\næ–‡æ¡£ï¼šè®¡ç®—æœºç½‘ç»œ \n##MAC åœ°å€\nå†…å®¹ï¼šMAC åœ°å€æ˜¯**é“¾è·¯å±‚åœ°å€ï¼Œé•¿åº¦ä¸º 6 å­—èŠ‚ï¼ˆ48 ä½ï¼Œå…±2*6ä¸ªå­—æ¯æ•°å­—è¡¨ç¤ºï¼‰ï¼Œç”¨äºå”¯ä¸€æ ‡è¯†ç½‘ç»œé€‚é…å™¨ï¼ˆç½‘å¡ï¼‰**ã€‚ï¼ˆå¯ä»¥æœ‰è™šæ‹Ÿç½‘å¡ï¼‰\n",
  "question": "linux ç½‘å¡é©±åŠ¨"
}
[36;1m[1;3m[chain/end][0m [1m[chain:RunnableSequence > prompt:ChatPromptTemplate] [1ms] Exiting Prompt run with output:
[0m[outputs]
[32;1m[1;3m[llm/start][0m [1m[chain:RunnableSequence > llm:ChatOpenAI] Entering LLM run with input:
[0m{
  "prompts": [
    "Human: ä½ æ˜¯kengerçš„åšå®¢æœç´¢åŠ©æ‰‹ï¼Œè¯·ä½ æ ¹æ®æ£€ç´¢åˆ°çš„å†…å®¹å›ç­”é—®é¢˜ï¼š\næ£€ç´¢åˆ°çš„æ–‡æ¡£\næ–‡æ¡£ï¼šlinux åŒç½‘å¡å†…å¤–ç½‘è®¿é—®\nlinux åŒç½‘å¡å†…å¤–ç½‘è®¿é—®\nå†…å®¹ï¼š\nå•ç½‘å¡å¤šipè®¾ç½®\nå†…å®¹ï¼š\næ–‡æ¡£ï¼šopenwrtçš„dhcpç»‘å®šä¸è®¾ç½®è¯¦è§£ \n##å®¢æˆ·ç«¯åˆ·æ–°\nå†…å®¹ï¼š```\n# win\n>ipconfig /release\n\n# mac\nsudo ipconfig set en9 DHCP #en9æ˜¯ç½‘å¡åå­—\n\n# linux\ndhclient -r\n```\næ–‡æ¡£ï¼š4090+esxi+ubuntuè™šæ‹Ÿç¯å¢ƒå®‰è£… \n#NVIDIAé©±åŠ¨\nå†…å®¹ï¼šå‚è€ƒç›¸å…³åšå®¢ï¼Œè¦æ³¨æ„ä¸€äº›è™šæ‹Ÿæœºçš„å‚æ•°æ·»åŠ é—®é¢˜ã€‚\n\n\n\n[å®˜ç½‘é“¾æ¥](https://www.nvidia.cn/Download/index.aspx?lang=cn)\n\nå»å®˜ç½‘ä¸‹è½½é©±åŠ¨\n\n![refs/heads/master/image-20230601000105656](https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/469505aeb3a2f52330266433c225d6f2/e525db42ac109a6dffaaf2658360ffaf.png)\n\n\n\n`wget https://us.download.nvidia.com/XFree86/Linux-x86_64/525.116.04/NVIDIA-Linux-x86_64-525.116.04.run`\n\nä¸‹è½½runæ–‡ä»¶åï¼Œå…ˆåˆ«ç€æ€¥å®‰è£…ï¼Œéœ€å…ˆç¦ç”¨nuoveau\n\n\n\n```text\nsudo vi /etc/modprobe.d/blacklist.conf \n```\n\nä¸‹é¢ä¸¤è¡ŒåŠ åˆ°æœ«å°¾\n\n\n\n```text\nblacklist nouveau\noptions nouveau modeset=0\n```\n\næ›´æ–°initramfsï¼Œéœ€è¦ç¨å¾®ç­‰ä¸€ä¼š\n\n\n\n```text\nsudo update-initramfs -u\n```\n\né‡å¯ç³»ç»Ÿã€‚\n\néªŒè¯å±è”½æ˜¯å¦æˆåŠŸï¼Œæ‰§è¡Œä¸‹é¢è¯­å¥ï¼Œç»“æœä¸ºç©ºï¼Œå³ä¸ºæˆåŠŸã€‚\n\n\n\n```text\nlsmod | grep nouveau\n```\n\næ‰§è¡Œå®‰è£…\n\nå…ˆå®‰è£…ä¾èµ–è½¯ä»¶ï¼Œgcc makeã€‚è‹¥å·²å®‰è£…åˆ™å»ºç«‹cc makeè½¯é“¾æ¥\n\n\n\n```text\nsudo apt install gcc\n```\n\n```text\nsudo apt install make\n```\n\nGNU Make 4.2.1\n\n```text\nchmod +x NVIDIA-Linux-x86_64-460.106.00.run \nsudo bash ./NVIDIA-Linux-x86_64-460.106.00.run\n```\n\nå®‰è£…è¿‡ç¨‹ä¸­ï¼Œ\n\nInstall 32 bit compatibility libraries ï¼Ÿ é€‰æ‹©No\n\nå®‰è£…å®Œæ¯•åï¼Œè¾“å…¥\n\n\n\n```text\nnvidia-smi\n```\næ–‡æ¡£ï¼šlinux åŒç½‘å¡å†…å¤–ç½‘è®¿é—® \n#æ€è·¯\nå†…å®¹ï¼š- ä¸€å¼ ç½‘å¡ä½œä¸ºä¸»è¦ç½‘å¡ï¼Œé»˜è®¤ç½‘å…³ã€‚èµ°å¤–ç½‘\n- å¦ä¸€å¼ åˆ™æ·»åŠ è·¯ç”±è¡¨ä»…é€šå‘å†…ç½‘çš„ipèµ°è¯¥ç½‘å¡\næ–‡æ¡£ï¼šopenwrt mwan é…ç½®å¤šwanå¤åˆ¶å‡è¡¡ \n#openwrtæ–°å»ºå¤šä¸ªwanå£\nå†…å®¹ï¼š- å¯ä»¥é‡‡å–å¤šçº¿å¤šå£çš„æ–¹å¼ã€‚å¤šä¸ªç‰©ç†æ¥å£å¯¹åº”å¤šä¸ªwanå£\n- æˆ–è€…é‡‡å–å•çº¿å¤šæ‹¨çš„æ–¹å¼ï¼Œä½†æ˜¯è¿è¡Œå•†ä¸ä¸€å®šæ”¯æŒã€‚\n  - åœ¨å•ä¸ªç½‘å¡ä¸Šè™šæ‹Ÿå‡ºå¤šä¸ªç½‘å¡\n  - ä¸åŒç½‘å¡ä¸åŒçš„ipï¼Œmac\næ–‡æ¡£ï¼šè¿ç»´ç›¸å…³é¢è¯•é¢˜ \n##**Linuxå¼€æœºè‡ªå¯è¿‡ç¨‹ï¼Ÿ**\nå†…å®¹ï¼š**1ï¼Œpower on å¼€æœº**\n**2ï¼ŒPOSTå¼€æœºè‡ªæ£€**\nç”±ä¸»æ¿ä¸Šçš„[BIOS](https://so.csdn.net/so/search?q=BIOS&spm=1001.2101.3001.7020)ç¨‹åºæ¥å®Œæˆ\n**3ï¼ŒBIOSå¯¹ç¡¬ä»¶è¿›è¡Œæ£€æµ‹**\nBIOSï¼šåŸºæœ¬è¾“å…¥è¾“å‡ºç³»ç»Ÿï¼Œæ˜¯ä¸ªäººç”µè„‘å¯åŠ¨æ—¶åŠ è½½çš„ç¬¬ä¸€ä¸ªè½¯ä»¶ã€‚å¯ä»CMOSä¸­è¯»å†™ç³»ç»Ÿè®¾ç½®çš„å…·ä½“ä¿¡æ¯ã€‚\n\n**4ï¼Œbootå¯åŠ¨é¡ºåºæ£€æŸ¥**\nhard drive ç¡¬ç›˜\ncdrom å…‰é©±\nremoveable device å¯ç§»åŠ¨è®¾å¤‡\nNetwork ä»ç½‘ç»œä¸­çš„æœåŠ¡å™¨å¯åŠ¨\nä¸€èˆ¬ä»ç¡¬ç›˜å¯åŠ¨\n**5ï¼Œç¡¬ç›˜**\nç¡¬ç›˜é‡Œæœ‰ä¸€ä¸ªMBRåˆ†åŒº\n**6ï¼ŒMBR**\nä¸»å¼•å¯¼è®°å½•ï¼ŒMBRæ˜¯ç¬¬ä¸€ä¸ªå¯å¼€æœºè®¾å¤‡çš„ç¬¬ä¸€ä¸ªæ‰‡åŒºçš„å¼•å¯¼åˆ†åŒºå—ï¼Œå†…åŒ…å«å¼•å¯¼åŠ è½½ç¨‹åºï¼Œç”µè„‘å¼€æœºçš„æ—¶å€™ï¼Œè®¡ç®—æœºç³»ç»Ÿä¼šä¸»åŠ¨å»æ‰§è¡ŒBIOSè¿™ä¸ªç¨‹åºï¼Œç„¶åBIOSä¼šåˆ†æè®¡ç®—æœºä¸Šçš„å­˜å‚¨è®¾å¤‡ï¼Œç¡¬ç›˜çš„è¯ï¼ŒBIOSä¼šåˆ°è¯¥ç¡¬ç›˜é‡Œé¢å»è¯»å–ç¬¬ä¸€ä¸ªæ‰‡åŒºçš„MBRä½ç½®ï¼ŒMBRé‡Œé¢æ”¾ç€å¼•å¯¼åŠ è½½ç¨‹åºï¼ŒåŠ è½½å†…æ ¸æ–‡ä»¶\n**7,groub2å¼•å¯¼å¯åŠ¨ç¨‹åº**\né‡Œé¢çš„ext4é©±åŠ¨ï¼Œå¯ä»¥è¯†åˆ«/bootåˆ†åŒºé‡Œçš„å†…å®¹\n\n**8ï¼Œ/boot**\n/bootåˆ†åŒºé‡Œæœ‰vmlinuxz å’Œinitramfsæ‰§è¡Œè¿™ä¸¤ä¸ªæ–‡ä»¶ï¼Œå°†å…¶åŠ è½½åˆ°å†…å­˜\n*vmlinuz-4.18.0-147.el8.x86_64 çœŸæ­£çš„linuxå†…æ ¸ç¨‹åº\ninitramfs-4.18.0-147.el8.x86_64.img --ä¸ºå†…æ ¸é…å¥—çš„æ–‡ä»¶ç³»ç»Ÿï¼Œå­˜æ”¾äº†å¾ˆå¤šçš„é©±åŠ¨*\n\n*æ³¨ï¼šinitramfsæ–‡ä»¶å¯ä»¥è§£å‹ï¼š\ncpio -idmv < ./initramfs.img*\n\n**9.å¯åŠ¨systemdè¿›ç¨‹**\nsystemdè¿›ç¨‹ æ˜¯linuxé‡Œçš„ç¬¬1ä¸ªè¿›ç¨‹\n**10ï¼Œå¯åŠ¨å¯¹åº”çš„è¿è¡Œçº§åˆ«é‡Œçš„æœåŠ¡**\n\n**11ï¼Œä¹‹åè¿›å…¥loginç™»å½•é¡µé¢ï¼ˆè¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼‰**\næ–‡æ¡£ï¼štesla T4 æ·±åº¦å­¦ä¹ ç¯å¢ƒæ­å»º \n##NVIDIAçš„é©±åŠ¨\nå†…å®¹ï¼š```\n wget https://cn.download.nvidia.com/tesla/460.106.00/NVIDIA-Linux-x86_64-460.106.00.run\n```\n\nä¸‹è½½debæ–‡ä»¶åï¼Œå…ˆåˆ«ç€æ€¥å®‰è£…ï¼Œéœ€å…ˆç¦ç”¨nuoveau\n\n```text\nsudo vi /etc/modprobe.d/blacklist.conf \n```\n\nä¸‹é¢ä¸¤è¡ŒåŠ åˆ°æœ«å°¾\n\n```text\nblacklist nouveau\noptions nouveau modeset=0\n```\n\næ›´æ–°initramfsï¼Œéœ€è¦ç¨å¾®ç­‰ä¸€ä¼š\n\n```text\nsudo update-initramfs -u\n```\n\né‡å¯ç³»ç»Ÿã€‚\n\néªŒè¯å±è”½æ˜¯å¦æˆåŠŸï¼Œæ‰§è¡Œä¸‹é¢è¯­å¥ï¼Œç»“æœä¸ºç©ºï¼Œå³ä¸ºæˆåŠŸã€‚\n\n```text\nlsmod | grep nouveau\n```\n\næ‰§è¡Œå®‰è£…\n\nå…ˆå®‰è£…ä¾èµ–è½¯ä»¶ï¼Œgcc makeã€‚è‹¥å·²å®‰è£…åˆ™å»ºç«‹cc makeè½¯é“¾æ¥\n\n```text\nsudo apt install gcc\n```\n\ngcc version 9.4.0 (Ubuntu 9.4.0-1ubuntu1~20.04.1)\n\n```text\nsudo apt install make\n```\n\nGNU Make 4.2.1\n\n```text\nchmod +x NVIDIA-Linux-x86_64-460.106.00.run \nsudo bash ./NVIDIA-Linux-x86_64-460.106.00.run\n```\n\nå®‰è£…è¿‡ç¨‹ä¸­ï¼Œ\n\nInstall 32 bit compatibility libraries ï¼Ÿ é€‰æ‹©No\n\nå®‰è£…å®Œæ¯•åï¼Œè¾“å…¥\n\n```text\nnvidia-smi\n```\n\n![img](https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/fd10750a9216e7e8481fa986baad00c8/e5eef861ebafd1e5104dac0a107afa79.png)\næ–‡æ¡£ï¼šopenwrt dockeræ—è·¯ç”± \n##æ­£æ–‡\nå†…å®¹ï¼šæˆ‘çš„è·¯ç”±å™¨ç½‘å…³192.168.0.1ã€‚å­ç½‘æ©ç 24ä½\n\n\n\n\n\n**eth0æ˜¯ç½‘å¡åï¼Œæ ¹æ®å…·ä½“æƒ…å†µæ›´æ”¹é…ç½®**\n\n```\n# å¼€å¯æ··æ‚æ¨¡å¼\nip link set  eth0 promisc on\n\ndocker network create -d macvlan --subnet=192.168.0.0/24 --gateway=192.168.0.1 -o parent=eth0 macnet\n```\n\næˆ‘çš„linuxç½‘ç»œæœ¬æœºipæ˜¯ï¼š192.168.0.208\n\n\n\nopenwrtè¦è®¾ç½®ä¸ºä¸€ä¸ªä¸æœ¬æœºipä¸åŒçš„ï¼Œä¸”åœ¨åŒä¸€ä¸ªç½‘æ®µçš„\n\n```\ndocker run -d \\\n--restart always \\\n--network macnet \\\n--privileged \\\n--name openwrt_lwl \\\nsulinggg/openwrt:x86_64 /sbin/init\n```\n\n**å®¹å™¨ç‰ˆæœ¬å¾—ä¸æœ¬æœºä¸€è‡´ã€‚**\næ–‡æ¡£ï¼šè®¡ç®—æœºç½‘ç»œ \n##MAC åœ°å€\nå†…å®¹ï¼šMAC åœ°å€æ˜¯**é“¾è·¯å±‚åœ°å€ï¼Œé•¿åº¦ä¸º 6 å­—èŠ‚ï¼ˆ48 ä½ï¼Œå…±2*6ä¸ªå­—æ¯æ•°å­—è¡¨ç¤ºï¼‰ï¼Œç”¨äºå”¯ä¸€æ ‡è¯†ç½‘ç»œé€‚é…å™¨ï¼ˆç½‘å¡ï¼‰**ã€‚ï¼ˆå¯ä»¥æœ‰è™šæ‹Ÿç½‘å¡ï¼‰\n\n\né—®é¢˜ï¼šlinux ç½‘å¡é©±åŠ¨\nè¦æ±‚ï¼š\n1. ç”¨æˆ·æ˜¯çœ‹ä¸åˆ°æ£€ç´¢åˆ°çš„æ–‡æ¡£çš„ï¼Œæ‰€ä»¥ä½ éœ€è¦æ ¹æ®æ£€ç´¢åˆ°çš„å†…å®¹å›ç­”é—®é¢˜ã€‚\n2. è¯·ä½ å°½å¯èƒ½æ ¹æ®æ£€ç´¢åˆ°çš„å†…å®¹å›ç­”é—®é¢˜ã€‚\n3. å¦‚æœæ— æ³•ä»ä¸Šä¸‹æ–‡å¾—åˆ°ç­”æ¡ˆï¼Œè¯·ç›´æ¥è¯´ä¸çŸ¥é“ã€‚"
  ]
}127.0.0.1 - - [02/Mar/2025 14:22:12] "POST /chat HTTP/1.1" 200 -

[36;1m[1;3m[llm/end][0m [1m[chain:RunnableSequence > llm:ChatOpenAI] [2.76s] Exiting LLM run with output:
[0m{
  "generations": [
    [
      {
        "text": "æ ¹æ®æ£€ç´¢åˆ°çš„å†…å®¹ï¼Œæ–‡æ¡£ä¸­æåˆ°äº†NVIDIAçš„é©±åŠ¨å®‰è£…æ­¥éª¤ï¼Œä½†æ²¡æœ‰å…·ä½“æåˆ°Linuxç½‘å¡é©±åŠ¨çš„ç›¸å…³å†…å®¹ã€‚å› æ­¤ï¼Œæ— æ³•ä»æ£€ç´¢åˆ°çš„å†…å®¹ä¸­å¾—åˆ°å…³äºLinuxç½‘å¡é©±åŠ¨çš„ä¿¡æ¯ã€‚å¦‚æœéœ€è¦äº†è§£æœ‰å…³Linuxç½‘å¡é©±åŠ¨çš„ä¿¡æ¯ï¼Œå»ºè®®æŸ¥é˜…å…¶ä»–ç›¸å…³æ–‡æ¡£æˆ–èµ„æ–™ã€‚",
        "generation_info": {
          "finish_reason": "stop",
          "logprobs": null
        },
        "type": "ChatGeneration",
        "message": {
          "lc": 1,
          "type": "constructor",
          "id": [
            "langchain",
            "schema",
            "messages",
            "AIMessage"
          ],
          "kwargs": {
            "content": "æ ¹æ®æ£€ç´¢åˆ°çš„å†…å®¹ï¼Œæ–‡æ¡£ä¸­æåˆ°äº†NVIDIAçš„é©±åŠ¨å®‰è£…æ­¥éª¤ï¼Œä½†æ²¡æœ‰å…·ä½“æåˆ°Linuxç½‘å¡é©±åŠ¨çš„ç›¸å…³å†…å®¹ã€‚å› æ­¤ï¼Œæ— æ³•ä»æ£€ç´¢åˆ°çš„å†…å®¹ä¸­å¾—åˆ°å…³äºLinuxç½‘å¡é©±åŠ¨çš„ä¿¡æ¯ã€‚å¦‚æœéœ€è¦äº†è§£æœ‰å…³Linuxç½‘å¡é©±åŠ¨çš„ä¿¡æ¯ï¼Œå»ºè®®æŸ¥é˜…å…¶ä»–ç›¸å…³æ–‡æ¡£æˆ–èµ„æ–™ã€‚",
            "additional_kwargs": {
              "refusal": null
            },
            "response_metadata": {
              "token_usage": {
                "completion_tokens": 102,
                "prompt_tokens": 2183,
                "total_tokens": 2285,
                "completion_tokens_details": null,
                "prompt_tokens_details": null
              },
              "model_name": "gpt-3.5-turbo",
              "system_fingerprint": "fp_0165350fbb",
              "finish_reason": "stop",
              "logprobs": null
            },
            "type": "ai",
            "id": "run-67e8ecc1-4cdb-4ab5-a4e4-1349392984cb-0",
            "usage_metadata": {
              "input_tokens": 2183,
              "output_tokens": 102,
              "total_tokens": 2285,
              "input_token_details": {},
              "output_token_details": {}
            },
            "tool_calls": [],
            "invalid_tool_calls": []
          }
        }
      }
    ]
  ],
  "llm_output": {
    "token_usage": {
      "completion_tokens": 102,
      "prompt_tokens": 2183,
      "total_tokens": 2285,
      "completion_tokens_details": null,
      "prompt_tokens_details": null
    },
    "model_name": "gpt-3.5-turbo",
    "system_fingerprint": "fp_0165350fbb"
  },
  "run": null,
  "type": "LLMResult"
}
[32;1m[1;3m[chain/start][0m [1m[chain:RunnableSequence > parser:StrOutputParser] Entering Parser run with input:
[0m[inputs]
[36;1m[1;3m[chain/end][0m [1m[chain:RunnableSequence > parser:StrOutputParser] [1ms] Exiting Parser run with output:
[0m{
  "output": "æ ¹æ®æ£€ç´¢åˆ°çš„å†…å®¹ï¼Œæ–‡æ¡£ä¸­æåˆ°äº†NVIDIAçš„é©±åŠ¨å®‰è£…æ­¥éª¤ï¼Œä½†æ²¡æœ‰å…·ä½“æåˆ°Linuxç½‘å¡é©±åŠ¨çš„ç›¸å…³å†…å®¹ã€‚å› æ­¤ï¼Œæ— æ³•ä»æ£€ç´¢åˆ°çš„å†…å®¹ä¸­å¾—åˆ°å…³äºLinuxç½‘å¡é©±åŠ¨çš„ä¿¡æ¯ã€‚å¦‚æœéœ€è¦äº†è§£æœ‰å…³Linuxç½‘å¡é©±åŠ¨çš„ä¿¡æ¯ï¼Œå»ºè®®æŸ¥é˜…å…¶ä»–ç›¸å…³æ–‡æ¡£æˆ–èµ„æ–™ã€‚"
}
[36;1m[1;3m[chain/end][0m [1m[chain:RunnableSequence] [2.80s] Exiting Chain run with output:
[0m{
  "output": "æ ¹æ®æ£€ç´¢åˆ°çš„å†…å®¹ï¼Œæ–‡æ¡£ä¸­æåˆ°äº†NVIDIAçš„é©±åŠ¨å®‰è£…æ­¥éª¤ï¼Œä½†æ²¡æœ‰å…·ä½“æåˆ°Linuxç½‘å¡é©±åŠ¨çš„ç›¸å…³å†…å®¹ã€‚å› æ­¤ï¼Œæ— æ³•ä»æ£€ç´¢åˆ°çš„å†…å®¹ä¸­å¾—åˆ°å…³äºLinuxç½‘å¡é©±åŠ¨çš„ä¿¡æ¯ã€‚å¦‚æœéœ€è¦äº†è§£æœ‰å…³Linuxç½‘å¡é©±åŠ¨çš„ä¿¡æ¯ï¼Œå»ºè®®æŸ¥é˜…å…¶ä»–ç›¸å…³æ–‡æ¡£æˆ–èµ„æ–™ã€‚"
}
after request
******************************
linuxå¦‚ä½•æŸ¥çœ‹ç½‘é€Ÿ
[32;1m[1;3m[chain/start][0m [1m[chain:RunnableSequence] Entering Chain run with input:
[0m{
  "input": "linuxå¦‚ä½•æŸ¥çœ‹ç½‘é€Ÿ"
}
[32;1m[1;3m[chain/start][0m [1m[chain:RunnableSequence > chain:RunnableParallel<context,question>] Entering Chain run with input:
[0m{
  "input": "linuxå¦‚ä½•æŸ¥çœ‹ç½‘é€Ÿ"
}
[32;1m[1;3m[chain/start][0m [1m[chain:RunnableSequence > chain:RunnableParallel<context,question> > chain:RunnablePassthrough] Entering Chain run with input:
[0m{
  "input": "linuxå¦‚ä½•æŸ¥çœ‹ç½‘é€Ÿ"
}
[36;1m[1;3m[chain/end][0m [1m[chain:RunnableSequence > chain:RunnableParallel<context,question> > chain:RunnablePassthrough] [1ms] Exiting Chain run with output:
[0m{
  "output": "linuxå¦‚ä½•æŸ¥çœ‹ç½‘é€Ÿ"
}
[36;1m[1;3m[chain/end][0m [1m[chain:RunnableSequence > chain:RunnableParallel<context,question>] [31ms] Exiting Chain run with output:
[0m{
  "context": "æ–‡æ¡£ï¼šè®¡ç®—æœºç½‘ç»œ \n##å¦‚ä½•åœ¨ Linux ç³»ç»Ÿä¸­æŸ¥çœ‹ TCP çŠ¶æ€ï¼Ÿ\nå†…å®¹ï¼š> TCP çš„è¿æ¥çŠ¶æ€æŸ¥çœ‹ï¼Œåœ¨ Linux å¯ä»¥é€šè¿‡ `netstat -napt` å‘½ä»¤æŸ¥çœ‹\n>\n> ![TCP è¿æ¥çŠ¶æ€æŸ¥çœ‹](https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/ad87d5897557f51a5da504aa51b4c283/f1193ff8b388617c0de6badda63473af.png)\næ–‡æ¡£ï¼šlinuxæŸ¥çœ‹ç³»ç»Ÿæ¶æ„ï¼Œä»¥åŠæ¶æ„åˆ†ç±»\nlinuxæŸ¥çœ‹ç³»ç»Ÿæ¶æ„ï¼Œä»¥åŠæ¶æ„åˆ†ç±»\nå†…å®¹ï¼š\næ–‡æ¡£ï¼šopenwrtå¤šç½‘å¡åŒæ—¶å†…å¤–ç½‘ \n#speedtestç½‘é€Ÿæµ‹è¯•\nå†…å®¹ï¼š```\ndocker run --rm robinmanuelthiel/speedtest:latest\n```\n\nç»ˆç«¯\n\n```\ndocker run -it  --rm robinmanuelthiel/speedtest:latest bash\n```\næ–‡æ¡£ï¼šopenwrt mwan é…ç½®å¤šwanå¤åˆ¶å‡è¡¡ \n##éœ€æ±‚\nå†…å®¹ï¼š- å®ç°å¤šä¸ªwanå£\n- æ¯ä¸ªwanå£éƒ½éœ€è¦è´¦å·ç™»å½•è„šæœ¬ä½¿ç”¨æŒ‡å®šå‚æ•°åšæ–­å¼€é‡è¿\n- å°†å¤šä¸ªwanå£èšåˆï¼Œåšè´Ÿè½½å‡è¡¡æé«˜ç½‘é€Ÿ\næ–‡æ¡£ï¼šè¿ç»´ç›¸å…³é¢è¯•é¢˜ \n##Linuxå†…å­˜ä¸­Cacheå’ŒBufferçš„åŒºåˆ«\nå†…å®¹ï¼š**å†…å­˜buffer\\**\\**ä¸cacheåŒºåˆ«ï¼Ÿ**\n\n**Buffer**å°†æ•°æ®å†™å…¥åˆ°å†…å­˜é‡Œï¼Œè¿™ä¸ªæ•°æ®çš„å†…å­˜ç©ºé—´åœ¨Linuxç³»ç»Ÿé‡Œä¸€èˆ¬è¢«ç§°ä¸ºç¼“å†²åŒº(buffer)ï¼Œå†™å…¥åˆ°å†…å­˜bufferç¼“å†²åŒºï¼Œå†™ç¼“å†²ã€‚\n**Cache**ä»å†…å­˜è¯»å–æ•°æ®ï¼Œè¿™ä¸ªæ•°æ®çš„å†…å­˜ç©ºé—´åœ¨Linuxç³»ç»Ÿé‡Œä¸€èˆ¬è¢«ç§°ä¸ºç¼“å­˜åŒº(cache),ä»å†…å­˜cacheè¯»å–ï¼Œç¼“å­˜åŒºï¼Œè¯»ç¼“å­˜ã€‚\n**Cacheä¸€èˆ¬ç”¨äºè¯»å–æ•°æ®ï¼ŒBufferä¸€èˆ¬ç”¨äºå†™å…¥æ•°æ®ã€‚å†…å­˜ä¸€èˆ¬æœ‰ä¸¤ä¸ªå‚æ•°Memory Cacheå’ŒMemory Buffe**rã€‚\nLinux å‘½ä»¤ free å‘½ä»¤æŸ¥çœ‹çš„æ˜¯æŒ‡çš„æ˜¯Memory Cache ä¸æ˜¯ CPU Cache.\næ–‡æ¡£ï¼šlinuxç»™æ¯ä¸ªç”¨æˆ·é™å®šå­˜å‚¨ç©ºé—´å¤§å° \n##**3 æ‰«ç„ç£ç›˜çš„ç”¨æˆ·ä½¿ç”¨çŠ¶å†µï¼Œå¹¶äº§ç”Ÿé‡è¦çš„ aquota.group ä¸ aquota.userï¼šæ–‡ä»¶**\nå†…å®¹ï¼šç”¨åˆ°`quotacheck`ç”Ÿæˆé…ç½®æ–‡ä»¶\n\n```\n[root@linux ~]# quotacheck -avug   # ç”Ÿæˆé…ç½®æ–‡ä»¶\nquotacheck: Scanning /dev/hdb1 [/disk2] done\nquotacheck: Checked 3 directories and 4 files\n[root@linux ~]# ll /disk2          # æŸ¥çœ‹\n-rw-------  1 root root  6144 Sep  6 11:44 aquota.group\n-rw-------  1 root root  6144 Sep  6 11:44 aquota.user\n```\næ–‡æ¡£ï¼šè¿ç»´ç›¸å…³é¢è¯•é¢˜ \n##linuxæŸ¥çœ‹å¤§æ–‡ä»¶\nå†…å®¹ï¼š**[vim](https://so.csdn.net/so/search?q=vim&spm=1001.2101.3001.7020)å’Œcat ä¼šæ¶ˆè€—æ¯”è¾ƒå¤šçš„å†…å­˜å’Œcpuèµ„æºï¼Œå¯¼è‡´ç³»ç»Ÿæ­»æœºæˆ–è€…å¡é¡¿ï¼Œå› æ­¤è¯»å–å¤§æ–‡ä»¶ä¸å»ºè®®ä½¿ç”¨ï¼›**\nmoreå’Œless ä¸ä¼šæ¶ˆè€—ç‰¹åˆ«å¤šçš„å†…å­˜å’Œcpuèµ„æºã€‚\næ–‡æ¡£ï¼šè¿ç»´ç›¸å…³å¤ç›˜ \n#/procç›®å½•\nå†…å®¹ï¼šLinuxç³»ç»Ÿä¸Šçš„/procç›®å½•æ˜¯ä¸€ç§æ–‡ä»¶ç³»ç»Ÿï¼Œå³procæ–‡ä»¶ç³»ç»Ÿã€‚ä¸å…¶å®ƒå¸¸è§çš„æ–‡ä»¶ç³»ç»Ÿä¸åŒçš„æ˜¯ï¼Œ/procæ˜¯ä¸€ç§ä¼ªæ–‡ä»¶ç³»ç»Ÿï¼ˆä¹Ÿå³è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼‰ï¼Œ**å­˜å‚¨çš„æ˜¯å½“å‰å†…æ ¸è¿è¡ŒçŠ¶æ€çš„ä¸€ç³»åˆ—ç‰¹æ®Šæ–‡ä»¶ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡è¿™äº›æ–‡ä»¶æŸ¥çœ‹æœ‰å…³ç³»ç»Ÿç¡¬ä»¶åŠå½“å‰æ­£åœ¨è¿è¡Œè¿›ç¨‹çš„ä¿¡æ¯**ï¼Œç”šè‡³å¯ä»¥é€šè¿‡æ›´æ”¹å…¶ä¸­æŸäº›æ–‡ä»¶æ¥æ”¹å˜å†…æ ¸çš„è¿è¡ŒçŠ¶æ€ã€‚ \n\n**`/proc`ç›®å½•æ˜¯å¼€æœºåæ‰ä¼šæœ‰çš„ï¼Œå…³æœºå°±æ²¡äº†ã€‚å…·ä½“è®¿é—®æ˜¯`/proc/<PID>/xxx`** ï¼Œlinuxä¸‡ç‰©çš†æ–‡ä»¶\næ–‡æ¡£ï¼šlinuxæŸ¥çœ‹ç³»ç»Ÿæ¶æ„ï¼Œä»¥åŠæ¶æ„åˆ†ç±» \n#æ¶æ„\nå†…å®¹ï¼šåœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä¸å¯é¿å…çš„éœ€è¦ä¸‹è½½å„ç§ç¨‹åºçš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚å¦‚ä½•é’ˆå¯¹è‡ªå·±ç³»ç»Ÿçš„å‘è¡Œç‰ˆä¸‹è½½å¥½ä¹…æ˜¾å¾—å¾ˆé‡è¦ã€‚\n\nå¦‚ä½•æŸ¥çœ‹ç³»ç»Ÿæ¶æ„\n\n```\nuname -a\n```\n\n- cpuçš„æ¶æ„å°†å†³å®šå…¶æŒ‡ä»¤é›†ï¼Œæ˜¯å¦æ˜¯RISCæˆ–è€…CISCã€‚\n\n- å…¬å¸\n\n- - **Intelå’ŒAMDéƒ½æ˜¯èŠ¯ç‰‡å…¬å¸**\n  - Intelå…¬å¸ï¼šç”¨çš„æ¶æ„å¤§å¤šæ˜¯x86æ¶æ„ï¼Œx86_64æ¶æ„ï¼Œå’ŒIA64å®‰è…¾æ¶æ„ã€‚æŒ‡ä»¤é›†æ˜¯CISCï¼ˆå¤æ‚æŒ‡ä»¤é›†ï¼‰\n  - AMDä¹Ÿæ˜¯ä¸ªèŠ¯ç‰‡å…¬å¸ï¼Œä¸»ä¸šé™¤äº†è®¾è®¡CPUï¼ˆAMDä¸æµç‰‡ï¼Œæ‰€ä»¥æ²¡æœ‰åˆ¶é€ ï¼‰è¿˜æœ‰è®¾è®¡æ˜¾å¡ï¼ˆæ”¶è´­çš„ATIï¼‰ï¼Œ**AMDè®¾è®¡çš„CPUå’Œintel x86/x86_64ç³»åˆ—å…¼å®¹**ã€‚ä¾‹å¦‚**AMD64**\næ–‡æ¡£ï¼šshellå°note \n##å…³äºlinuxç”¨æˆ·ç®¡ç†\nå†…å®¹ï¼šæŸ¥çœ‹æ‰€æœ‰ç”¨æˆ·\n```\ncat /etc/passwd\n```\n\næ·»åŠ ç”¨æˆ·\n```\nuseradd -d /home/test test  # æ·»åŠ ç”¨æˆ·testï¼ŒæŒ‡å®šå…¶homeç›®å½•ä¸º/home/test\nuseradd -s /bin/bash -g group test # æ·»åŠ ç”¨æˆ·testï¼ŒæŒ‡å®šç”¨æˆ·ç»„\n```\n\nåˆ é™¤ç”¨æˆ·\n```\nuserdel -r test # åŠ å…¥ræ˜¯ä¸ºäº†åˆ å¹²å‡€ï¼Œåˆ é™¤äº†ç”¨æˆ·å’Œç”¨æˆ·çš„é…ç½®æ–‡ä»¶\n```\n\næ·»åŠ ç”¨æˆ·ç»„\n```\ngroupadd -g 101  g1  # æ·»åŠ ç”¨æˆ·ç»„g1,æŒ‡å®šgidä¸º101\n```\n\nåˆ é™¤ç”¨æˆ·ç»„\n```\ngroupdel g1\n```\n",
  "question": "linuxå¦‚ä½•æŸ¥çœ‹ç½‘é€Ÿ"
}
[32;1m[1;3m[chain/start][0m [1m[chain:RunnableSequence > prompt:ChatPromptTemplate] Entering Prompt run with input:
[0m{
  "context": "æ–‡æ¡£ï¼šè®¡ç®—æœºç½‘ç»œ \n##å¦‚ä½•åœ¨ Linux ç³»ç»Ÿä¸­æŸ¥çœ‹ TCP çŠ¶æ€ï¼Ÿ\nå†…å®¹ï¼š> TCP çš„è¿æ¥çŠ¶æ€æŸ¥çœ‹ï¼Œåœ¨ Linux å¯ä»¥é€šè¿‡ `netstat -napt` å‘½ä»¤æŸ¥çœ‹\n>\n> ![TCP è¿æ¥çŠ¶æ€æŸ¥çœ‹](https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/ad87d5897557f51a5da504aa51b4c283/f1193ff8b388617c0de6badda63473af.png)\næ–‡æ¡£ï¼šlinuxæŸ¥çœ‹ç³»ç»Ÿæ¶æ„ï¼Œä»¥åŠæ¶æ„åˆ†ç±»\nlinuxæŸ¥çœ‹ç³»ç»Ÿæ¶æ„ï¼Œä»¥åŠæ¶æ„åˆ†ç±»\nå†…å®¹ï¼š\næ–‡æ¡£ï¼šopenwrtå¤šç½‘å¡åŒæ—¶å†…å¤–ç½‘ \n#speedtestç½‘é€Ÿæµ‹è¯•\nå†…å®¹ï¼š```\ndocker run --rm robinmanuelthiel/speedtest:latest\n```\n\nç»ˆç«¯\n\n```\ndocker run -it  --rm robinmanuelthiel/speedtest:latest bash\n```\næ–‡æ¡£ï¼šopenwrt mwan é…ç½®å¤šwanå¤åˆ¶å‡è¡¡ \n##éœ€æ±‚\nå†…å®¹ï¼š- å®ç°å¤šä¸ªwanå£\n- æ¯ä¸ªwanå£éƒ½éœ€è¦è´¦å·ç™»å½•è„šæœ¬ä½¿ç”¨æŒ‡å®šå‚æ•°åšæ–­å¼€é‡è¿\n- å°†å¤šä¸ªwanå£èšåˆï¼Œåšè´Ÿè½½å‡è¡¡æé«˜ç½‘é€Ÿ\næ–‡æ¡£ï¼šè¿ç»´ç›¸å…³é¢è¯•é¢˜ \n##Linuxå†…å­˜ä¸­Cacheå’ŒBufferçš„åŒºåˆ«\nå†…å®¹ï¼š**å†…å­˜buffer\\**\\**ä¸cacheåŒºåˆ«ï¼Ÿ**\n\n**Buffer**å°†æ•°æ®å†™å…¥åˆ°å†…å­˜é‡Œï¼Œè¿™ä¸ªæ•°æ®çš„å†…å­˜ç©ºé—´åœ¨Linuxç³»ç»Ÿé‡Œä¸€èˆ¬è¢«ç§°ä¸ºç¼“å†²åŒº(buffer)ï¼Œå†™å…¥åˆ°å†…å­˜bufferç¼“å†²åŒºï¼Œå†™ç¼“å†²ã€‚\n**Cache**ä»å†…å­˜è¯»å–æ•°æ®ï¼Œè¿™ä¸ªæ•°æ®çš„å†…å­˜ç©ºé—´åœ¨Linuxç³»ç»Ÿé‡Œä¸€èˆ¬è¢«ç§°ä¸ºç¼“å­˜åŒº(cache),ä»å†…å­˜cacheè¯»å–ï¼Œç¼“å­˜åŒºï¼Œè¯»ç¼“å­˜ã€‚\n**Cacheä¸€èˆ¬ç”¨äºè¯»å–æ•°æ®ï¼ŒBufferä¸€èˆ¬ç”¨äºå†™å…¥æ•°æ®ã€‚å†…å­˜ä¸€èˆ¬æœ‰ä¸¤ä¸ªå‚æ•°Memory Cacheå’ŒMemory Buffe**rã€‚\nLinux å‘½ä»¤ free å‘½ä»¤æŸ¥çœ‹çš„æ˜¯æŒ‡çš„æ˜¯Memory Cache ä¸æ˜¯ CPU Cache.\næ–‡æ¡£ï¼šlinuxç»™æ¯ä¸ªç”¨æˆ·é™å®šå­˜å‚¨ç©ºé—´å¤§å° \n##**3 æ‰«ç„ç£ç›˜çš„ç”¨æˆ·ä½¿ç”¨çŠ¶å†µï¼Œå¹¶äº§ç”Ÿé‡è¦çš„ aquota.group ä¸ aquota.userï¼šæ–‡ä»¶**\nå†…å®¹ï¼šç”¨åˆ°`quotacheck`ç”Ÿæˆé…ç½®æ–‡ä»¶\n\n```\n[root@linux ~]# quotacheck -avug   # ç”Ÿæˆé…ç½®æ–‡ä»¶\nquotacheck: Scanning /dev/hdb1 [/disk2] done\nquotacheck: Checked 3 directories and 4 files\n[root@linux ~]# ll /disk2          # æŸ¥çœ‹\n-rw-------  1 root root  6144 Sep  6 11:44 aquota.group\n-rw-------  1 root root  6144 Sep  6 11:44 aquota.user\n```\næ–‡æ¡£ï¼šè¿ç»´ç›¸å…³é¢è¯•é¢˜ \n##linuxæŸ¥çœ‹å¤§æ–‡ä»¶\nå†…å®¹ï¼š**[vim](https://so.csdn.net/so/search?q=vim&spm=1001.2101.3001.7020)å’Œcat ä¼šæ¶ˆè€—æ¯”è¾ƒå¤šçš„å†…å­˜å’Œcpuèµ„æºï¼Œå¯¼è‡´ç³»ç»Ÿæ­»æœºæˆ–è€…å¡é¡¿ï¼Œå› æ­¤è¯»å–å¤§æ–‡ä»¶ä¸å»ºè®®ä½¿ç”¨ï¼›**\nmoreå’Œless ä¸ä¼šæ¶ˆè€—ç‰¹åˆ«å¤šçš„å†…å­˜å’Œcpuèµ„æºã€‚\næ–‡æ¡£ï¼šè¿ç»´ç›¸å…³å¤ç›˜ \n#/procç›®å½•\nå†…å®¹ï¼šLinuxç³»ç»Ÿä¸Šçš„/procç›®å½•æ˜¯ä¸€ç§æ–‡ä»¶ç³»ç»Ÿï¼Œå³procæ–‡ä»¶ç³»ç»Ÿã€‚ä¸å…¶å®ƒå¸¸è§çš„æ–‡ä»¶ç³»ç»Ÿä¸åŒçš„æ˜¯ï¼Œ/procæ˜¯ä¸€ç§ä¼ªæ–‡ä»¶ç³»ç»Ÿï¼ˆä¹Ÿå³è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼‰ï¼Œ**å­˜å‚¨çš„æ˜¯å½“å‰å†…æ ¸è¿è¡ŒçŠ¶æ€çš„ä¸€ç³»åˆ—ç‰¹æ®Šæ–‡ä»¶ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡è¿™äº›æ–‡ä»¶æŸ¥çœ‹æœ‰å…³ç³»ç»Ÿç¡¬ä»¶åŠå½“å‰æ­£åœ¨è¿è¡Œè¿›ç¨‹çš„ä¿¡æ¯**ï¼Œç”šè‡³å¯ä»¥é€šè¿‡æ›´æ”¹å…¶ä¸­æŸäº›æ–‡ä»¶æ¥æ”¹å˜å†…æ ¸çš„è¿è¡ŒçŠ¶æ€ã€‚ \n\n**`/proc`ç›®å½•æ˜¯å¼€æœºåæ‰ä¼šæœ‰çš„ï¼Œå…³æœºå°±æ²¡äº†ã€‚å…·ä½“è®¿é—®æ˜¯`/proc/<PID>/xxx`** ï¼Œlinuxä¸‡ç‰©çš†æ–‡ä»¶\næ–‡æ¡£ï¼šlinuxæŸ¥çœ‹ç³»ç»Ÿæ¶æ„ï¼Œä»¥åŠæ¶æ„åˆ†ç±» \n#æ¶æ„\nå†…å®¹ï¼šåœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä¸å¯é¿å…çš„éœ€è¦ä¸‹è½½å„ç§ç¨‹åºçš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚å¦‚ä½•é’ˆå¯¹è‡ªå·±ç³»ç»Ÿçš„å‘è¡Œç‰ˆä¸‹è½½å¥½ä¹…æ˜¾å¾—å¾ˆé‡è¦ã€‚\n\nå¦‚ä½•æŸ¥çœ‹ç³»ç»Ÿæ¶æ„\n\n```\nuname -a\n```\n\n- cpuçš„æ¶æ„å°†å†³å®šå…¶æŒ‡ä»¤é›†ï¼Œæ˜¯å¦æ˜¯RISCæˆ–è€…CISCã€‚\n\n- å…¬å¸\n\n- - **Intelå’ŒAMDéƒ½æ˜¯èŠ¯ç‰‡å…¬å¸**\n  - Intelå…¬å¸ï¼šç”¨çš„æ¶æ„å¤§å¤šæ˜¯x86æ¶æ„ï¼Œx86_64æ¶æ„ï¼Œå’ŒIA64å®‰è…¾æ¶æ„ã€‚æŒ‡ä»¤é›†æ˜¯CISCï¼ˆå¤æ‚æŒ‡ä»¤é›†ï¼‰\n  - AMDä¹Ÿæ˜¯ä¸ªèŠ¯ç‰‡å…¬å¸ï¼Œä¸»ä¸šé™¤äº†è®¾è®¡CPUï¼ˆAMDä¸æµç‰‡ï¼Œæ‰€ä»¥æ²¡æœ‰åˆ¶é€ ï¼‰è¿˜æœ‰è®¾è®¡æ˜¾å¡ï¼ˆæ”¶è´­çš„ATIï¼‰ï¼Œ**AMDè®¾è®¡çš„CPUå’Œintel x86/x86_64ç³»åˆ—å…¼å®¹**ã€‚ä¾‹å¦‚**AMD64**\næ–‡æ¡£ï¼šshellå°note \n##å…³äºlinuxç”¨æˆ·ç®¡ç†\nå†…å®¹ï¼šæŸ¥çœ‹æ‰€æœ‰ç”¨æˆ·\n```\ncat /etc/passwd\n```\n\næ·»åŠ ç”¨æˆ·\n```\nuseradd -d /home/test test  # æ·»åŠ ç”¨æˆ·testï¼ŒæŒ‡å®šå…¶homeç›®å½•ä¸º/home/test\nuseradd -s /bin/bash -g group test # æ·»åŠ ç”¨æˆ·testï¼ŒæŒ‡å®šç”¨æˆ·ç»„\n```\n\nåˆ é™¤ç”¨æˆ·\n```\nuserdel -r test # åŠ å…¥ræ˜¯ä¸ºäº†åˆ å¹²å‡€ï¼Œåˆ é™¤äº†ç”¨æˆ·å’Œç”¨æˆ·çš„é…ç½®æ–‡ä»¶\n```\n\næ·»åŠ ç”¨æˆ·ç»„\n```\ngroupadd -g 101  g1  # æ·»åŠ ç”¨æˆ·ç»„g1,æŒ‡å®šgidä¸º101\n```\n\nåˆ é™¤ç”¨æˆ·ç»„\n```\ngroupdel g1\n```\n",
  "question": "linuxå¦‚ä½•æŸ¥çœ‹ç½‘é€Ÿ"
}
[36;1m[1;3m[chain/end][0m [1m[chain:RunnableSequence > prompt:ChatPromptTemplate] [1ms] Exiting Prompt run with output:
[0m[outputs]
[32;1m[1;3m[llm/start][0m [1m[chain:RunnableSequence > llm:ChatOpenAI] Entering LLM run with input:
[0m{
  "prompts": [
    "Human: ä½ æ˜¯kengerçš„åšå®¢æœç´¢åŠ©æ‰‹ï¼Œè¯·ä½ æ ¹æ®æ£€ç´¢åˆ°çš„å†…å®¹å›ç­”é—®é¢˜ï¼š\næ£€ç´¢åˆ°çš„æ–‡æ¡£\næ–‡æ¡£ï¼šè®¡ç®—æœºç½‘ç»œ \n##å¦‚ä½•åœ¨ Linux ç³»ç»Ÿä¸­æŸ¥çœ‹ TCP çŠ¶æ€ï¼Ÿ\nå†…å®¹ï¼š> TCP çš„è¿æ¥çŠ¶æ€æŸ¥çœ‹ï¼Œåœ¨ Linux å¯ä»¥é€šè¿‡ `netstat -napt` å‘½ä»¤æŸ¥çœ‹\n>\n> ![TCP è¿æ¥çŠ¶æ€æŸ¥çœ‹](https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/ad87d5897557f51a5da504aa51b4c283/f1193ff8b388617c0de6badda63473af.png)\næ–‡æ¡£ï¼šlinuxæŸ¥çœ‹ç³»ç»Ÿæ¶æ„ï¼Œä»¥åŠæ¶æ„åˆ†ç±»\nlinuxæŸ¥çœ‹ç³»ç»Ÿæ¶æ„ï¼Œä»¥åŠæ¶æ„åˆ†ç±»\nå†…å®¹ï¼š\næ–‡æ¡£ï¼šopenwrtå¤šç½‘å¡åŒæ—¶å†…å¤–ç½‘ \n#speedtestç½‘é€Ÿæµ‹è¯•\nå†…å®¹ï¼š```\ndocker run --rm robinmanuelthiel/speedtest:latest\n```\n\nç»ˆç«¯\n\n```\ndocker run -it  --rm robinmanuelthiel/speedtest:latest bash\n```\næ–‡æ¡£ï¼šopenwrt mwan é…ç½®å¤šwanå¤åˆ¶å‡è¡¡ \n##éœ€æ±‚\nå†…å®¹ï¼š- å®ç°å¤šä¸ªwanå£\n- æ¯ä¸ªwanå£éƒ½éœ€è¦è´¦å·ç™»å½•è„šæœ¬ä½¿ç”¨æŒ‡å®šå‚æ•°åšæ–­å¼€é‡è¿\n- å°†å¤šä¸ªwanå£èšåˆï¼Œåšè´Ÿè½½å‡è¡¡æé«˜ç½‘é€Ÿ\næ–‡æ¡£ï¼šè¿ç»´ç›¸å…³é¢è¯•é¢˜ \n##Linuxå†…å­˜ä¸­Cacheå’ŒBufferçš„åŒºåˆ«\nå†…å®¹ï¼š**å†…å­˜buffer\\**\\**ä¸cacheåŒºåˆ«ï¼Ÿ**\n\n**Buffer**å°†æ•°æ®å†™å…¥åˆ°å†…å­˜é‡Œï¼Œè¿™ä¸ªæ•°æ®çš„å†…å­˜ç©ºé—´åœ¨Linuxç³»ç»Ÿé‡Œä¸€èˆ¬è¢«ç§°ä¸ºç¼“å†²åŒº(buffer)ï¼Œå†™å…¥åˆ°å†…å­˜bufferç¼“å†²åŒºï¼Œå†™ç¼“å†²ã€‚\n**Cache**ä»å†…å­˜è¯»å–æ•°æ®ï¼Œè¿™ä¸ªæ•°æ®çš„å†…å­˜ç©ºé—´åœ¨Linuxç³»ç»Ÿé‡Œä¸€èˆ¬è¢«ç§°ä¸ºç¼“å­˜åŒº(cache),ä»å†…å­˜cacheè¯»å–ï¼Œç¼“å­˜åŒºï¼Œè¯»ç¼“å­˜ã€‚\n**Cacheä¸€èˆ¬ç”¨äºè¯»å–æ•°æ®ï¼ŒBufferä¸€èˆ¬ç”¨äºå†™å…¥æ•°æ®ã€‚å†…å­˜ä¸€èˆ¬æœ‰ä¸¤ä¸ªå‚æ•°Memory Cacheå’ŒMemory Buffe**rã€‚\nLinux å‘½ä»¤ free å‘½ä»¤æŸ¥çœ‹çš„æ˜¯æŒ‡çš„æ˜¯Memory Cache ä¸æ˜¯ CPU Cache.\næ–‡æ¡£ï¼šlinuxç»™æ¯ä¸ªç”¨æˆ·é™å®šå­˜å‚¨ç©ºé—´å¤§å° \n##**3 æ‰«ç„ç£ç›˜çš„ç”¨æˆ·ä½¿ç”¨çŠ¶å†µï¼Œå¹¶äº§ç”Ÿé‡è¦çš„ aquota.group ä¸ aquota.userï¼šæ–‡ä»¶**\nå†…å®¹ï¼šç”¨åˆ°`quotacheck`ç”Ÿæˆé…ç½®æ–‡ä»¶\n\n```\n[root@linux ~]# quotacheck -avug   # ç”Ÿæˆé…ç½®æ–‡ä»¶\nquotacheck: Scanning /dev/hdb1 [/disk2] done\nquotacheck: Checked 3 directories and 4 files\n[root@linux ~]# ll /disk2          # æŸ¥çœ‹\n-rw-------  1 root root  6144 Sep  6 11:44 aquota.group\n-rw-------  1 root root  6144 Sep  6 11:44 aquota.user\n```\næ–‡æ¡£ï¼šè¿ç»´ç›¸å…³é¢è¯•é¢˜ \n##linuxæŸ¥çœ‹å¤§æ–‡ä»¶\nå†…å®¹ï¼š**[vim](https://so.csdn.net/so/search?q=vim&spm=1001.2101.3001.7020)å’Œcat ä¼šæ¶ˆè€—æ¯”è¾ƒå¤šçš„å†…å­˜å’Œcpuèµ„æºï¼Œå¯¼è‡´ç³»ç»Ÿæ­»æœºæˆ–è€…å¡é¡¿ï¼Œå› æ­¤è¯»å–å¤§æ–‡ä»¶ä¸å»ºè®®ä½¿ç”¨ï¼›**\nmoreå’Œless ä¸ä¼šæ¶ˆè€—ç‰¹åˆ«å¤šçš„å†…å­˜å’Œcpuèµ„æºã€‚\næ–‡æ¡£ï¼šè¿ç»´ç›¸å…³å¤ç›˜ \n#/procç›®å½•\nå†…å®¹ï¼šLinuxç³»ç»Ÿä¸Šçš„/procç›®å½•æ˜¯ä¸€ç§æ–‡ä»¶ç³»ç»Ÿï¼Œå³procæ–‡ä»¶ç³»ç»Ÿã€‚ä¸å…¶å®ƒå¸¸è§çš„æ–‡ä»¶ç³»ç»Ÿä¸åŒçš„æ˜¯ï¼Œ/procæ˜¯ä¸€ç§ä¼ªæ–‡ä»¶ç³»ç»Ÿï¼ˆä¹Ÿå³è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼‰ï¼Œ**å­˜å‚¨çš„æ˜¯å½“å‰å†…æ ¸è¿è¡ŒçŠ¶æ€çš„ä¸€ç³»åˆ—ç‰¹æ®Šæ–‡ä»¶ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡è¿™äº›æ–‡ä»¶æŸ¥çœ‹æœ‰å…³ç³»ç»Ÿç¡¬ä»¶åŠå½“å‰æ­£åœ¨è¿è¡Œè¿›ç¨‹çš„ä¿¡æ¯**ï¼Œç”šè‡³å¯ä»¥é€šè¿‡æ›´æ”¹å…¶ä¸­æŸäº›æ–‡ä»¶æ¥æ”¹å˜å†…æ ¸çš„è¿è¡ŒçŠ¶æ€ã€‚ \n\n**`/proc`ç›®å½•æ˜¯å¼€æœºåæ‰ä¼šæœ‰çš„ï¼Œå…³æœºå°±æ²¡äº†ã€‚å…·ä½“è®¿é—®æ˜¯`/proc/<PID>/xxx`** ï¼Œlinuxä¸‡ç‰©çš†æ–‡ä»¶\næ–‡æ¡£ï¼šlinuxæŸ¥çœ‹ç³»ç»Ÿæ¶æ„ï¼Œä»¥åŠæ¶æ„åˆ†ç±» \n#æ¶æ„\nå†…å®¹ï¼šåœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä¸å¯é¿å…çš„éœ€è¦ä¸‹è½½å„ç§ç¨‹åºçš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚å¦‚ä½•é’ˆå¯¹è‡ªå·±ç³»ç»Ÿçš„å‘è¡Œç‰ˆä¸‹è½½å¥½ä¹…æ˜¾å¾—å¾ˆé‡è¦ã€‚\n\nå¦‚ä½•æŸ¥çœ‹ç³»ç»Ÿæ¶æ„\n\n```\nuname -a\n```\n\n- cpuçš„æ¶æ„å°†å†³å®šå…¶æŒ‡ä»¤é›†ï¼Œæ˜¯å¦æ˜¯RISCæˆ–è€…CISCã€‚\n\n- å…¬å¸\n\n- - **Intelå’ŒAMDéƒ½æ˜¯èŠ¯ç‰‡å…¬å¸**\n  - Intelå…¬å¸ï¼šç”¨çš„æ¶æ„å¤§å¤šæ˜¯x86æ¶æ„ï¼Œx86_64æ¶æ„ï¼Œå’ŒIA64å®‰è…¾æ¶æ„ã€‚æŒ‡ä»¤é›†æ˜¯CISCï¼ˆå¤æ‚æŒ‡ä»¤é›†ï¼‰\n  - AMDä¹Ÿæ˜¯ä¸ªèŠ¯ç‰‡å…¬å¸ï¼Œä¸»ä¸šé™¤äº†è®¾è®¡CPUï¼ˆAMDä¸æµç‰‡ï¼Œæ‰€ä»¥æ²¡æœ‰åˆ¶é€ ï¼‰è¿˜æœ‰è®¾è®¡æ˜¾å¡ï¼ˆæ”¶è´­çš„ATIï¼‰ï¼Œ**AMDè®¾è®¡çš„CPUå’Œintel x86/x86_64ç³»åˆ—å…¼å®¹**ã€‚ä¾‹å¦‚**AMD64**\næ–‡æ¡£ï¼šshellå°note \n##å…³äºlinuxç”¨æˆ·ç®¡ç†\nå†…å®¹ï¼šæŸ¥çœ‹æ‰€æœ‰ç”¨æˆ·\n```\ncat /etc/passwd\n```\n\næ·»åŠ ç”¨æˆ·\n```\nuseradd -d /home/test test  # æ·»åŠ ç”¨æˆ·testï¼ŒæŒ‡å®šå…¶homeç›®å½•ä¸º/home/test\nuseradd -s /bin/bash -g group test # æ·»åŠ ç”¨æˆ·testï¼ŒæŒ‡å®šç”¨æˆ·ç»„\n```\n\nåˆ é™¤ç”¨æˆ·\n```\nuserdel -r test # åŠ å…¥ræ˜¯ä¸ºäº†åˆ å¹²å‡€ï¼Œåˆ é™¤äº†ç”¨æˆ·å’Œç”¨æˆ·çš„é…ç½®æ–‡ä»¶\n```\n\næ·»åŠ ç”¨æˆ·ç»„\n```\ngroupadd -g 101  g1  # æ·»åŠ ç”¨æˆ·ç»„g1,æŒ‡å®šgidä¸º101\n```\n\nåˆ é™¤ç”¨æˆ·ç»„\n```\ngroupdel g1\n```\n\n\né—®é¢˜ï¼šlinuxå¦‚ä½•æŸ¥çœ‹ç½‘é€Ÿ\nè¦æ±‚ï¼š\n1. ç”¨æˆ·æ˜¯çœ‹ä¸åˆ°æ£€ç´¢åˆ°çš„æ–‡æ¡£çš„ï¼Œæ‰€ä»¥ä½ éœ€è¦æ ¹æ®æ£€ç´¢åˆ°çš„å†…å®¹å›ç­”é—®é¢˜ã€‚\n2. è¯·ä½ å°½å¯èƒ½æ ¹æ®æ£€ç´¢åˆ°çš„å†…å®¹å›ç­”é—®é¢˜ã€‚\n3. å¦‚æœæ— æ³•ä»ä¸Šä¸‹æ–‡å¾—åˆ°ç­”æ¡ˆï¼Œè¯·ç›´æ¥è¯´ä¸çŸ¥é“ã€‚"
  ]
}127.0.0.1 - - [02/Mar/2025 14:22:25] "POST /chat HTTP/1.1" 200 -
127.0.0.1 - - [02/Mar/2025 14:31:39] "GET / HTTP/1.1" 200 -
127.0.0.1 - - [02/Mar/2025 14:31:39] "GET /src/style.css HTTP/1.1" 304 -
127.0.0.1 - - [02/Mar/2025 14:31:39] "GET /src/main.js HTTP/1.1" 304 -
127.0.0.1 - - [02/Mar/2025 14:31:39] "GET /src/config.json HTTP/1.1" 304 -
127.0.0.1 - - [03/Mar/2025 02:30:40] code 400, message Bad request version ('Ã€\x13Ã€')
127.0.0.1 - - [03/Mar/2025 02:30:40] "\x16\x03\x01\x00Ã®\x01\x00\x00Ãª\x03\x03I\x06Â²Ã¹Â¼\x99iÃ€YÃ»Ã¸Âºe-\x83Ud]\x0e\x8dÂ·b8Â´gÃ†Ã9dZ8f gÃ\x81iÂ³Ã¶Ã²Ã‹Â°Â©\x19NÃ–Â½\x95g|pÃ¼Ã©<ZÂ¡\x90TÂ·Ã©Â¥8'O;\x00&Ã€+Ã€/Ã€,Ã€0ÃŒÂ©ÃŒÂ¨Ã€\x09Ã€\x13Ã€" 400 -
127.0.0.1 - - [03/Mar/2025 02:30:51] "GET / HTTP/1.1" 200 -
127.0.0.1 - - [03/Mar/2025 05:42:06] code 400, message Bad HTTP/0.9 request type ('\x03\x00\x00/*Ã \x00\x00\x00\x00\x00Cookie:')
127.0.0.1 - - [03/Mar/2025 05:42:06] "\x03\x00\x00/*Ã \x00\x00\x00\x00\x00Cookie: mstshash=Administr" 400 -
127.0.0.1 - - [03/Mar/2025 06:25:25] "GET / HTTP/1.1" 200 -
127.0.0.1 - - [03/Mar/2025 06:25:26] "GET / HTTP/1.1" 200 -
127.0.0.1 - - [03/Mar/2025 06:25:26] "GET /src/main.js HTTP/1.1" 200 -
127.0.0.1 - - [03/Mar/2025 06:25:31] "GET /src/config.json HTTP/1.1" 200 -
127.0.0.1 - - [03/Mar/2025 06:25:33] "GET /favicon.ico HTTP/1.1" 404 -
127.0.0.1 - - [03/Mar/2025 06:32:18] "GET / HTTP/1.1" 200 -
127.0.0.1 - - [03/Mar/2025 06:32:20] "GET / HTTP/1.1" 200 -
127.0.0.1 - - [03/Mar/2025 06:32:20] "GET /src/style.css HTTP/1.1" 200 -
127.0.0.1 - - [03/Mar/2025 06:32:20] "GET /src/main.js HTTP/1.1" 200 -
127.0.0.1 - - [03/Mar/2025 06:32:22] "GET /src/config.json HTTP/1.1" 200 -
127.0.0.1 - - [03/Mar/2025 06:45:35] "GET / HTTP/1.1" 200 -
127.0.0.1 - - [03/Mar/2025 06:49:52] "GET / HTTP/1.1" 200 -
127.0.0.1 - - [03/Mar/2025 06:49:52] "GET / HTTP/1.1" 200 -
127.0.0.1 - - [03/Mar/2025 06:49:52] "GET /src/style.css HTTP/1.1" 200 -
127.0.0.1 - - [03/Mar/2025 06:49:52] "GET /src/main.js HTTP/1.1" 200 -
127.0.0.1 - - [03/Mar/2025 06:49:53] "GET /src/config.json HTTP/1.1" 200 -
127.0.0.1 - - [03/Mar/2025 07:40:17] "GET / HTTP/1.1" 200 -
127.0.0.1 - - [03/Mar/2025 08:58:18] "GET / HTTP/1.1" 200 -
127.0.0.1 - - [03/Mar/2025 09:07:44] "GET / HTTP/1.1" 200 -
127.0.0.1 - - [03/Mar/2025 09:07:53] "GET / HTTP/1.1" 200 -
127.0.0.1 - - [03/Mar/2025 09:07:58] "GET /favicon.ico HTTP/1.1" 404 -
127.0.0.1 - - [03/Mar/2025 09:07:59] code 505, message Invalid HTTP version (2.0)
127.0.0.1 - - [03/Mar/2025 09:07:59] "PRI * HTTP/2.0" 505 -
127.0.0.1 - - [03/Mar/2025 09:08:07] "GET /favicon.ico HTTP/1.1" 404 -
127.0.0.1 - - [03/Mar/2025 09:08:13] code 400, message Bad request version ('mÃ³Ã®}Ã²\x04Ãµ,\x82ÃªÂ»LÃ¶R')
127.0.0.1 - - [03/Mar/2025 09:08:13] "\x16\x03\x01\x00Ã·\x01\x00\x00Ã³\x03\x03Ã¸\x19Â ÃŒÂ¶\x7f \x95\x1dÃ\x1cg\x8eÂ¤M5^Â°,/8Ã¦\x94Ã«Ã‚Ã¦\x13ÃÃ¥\x10VÃ› P\x85Ã´\x12\x1dÂ²\x80Â¯Â¼Â§\\Ã¡n\x0bmÃ³Ã®}Ã²\x04Ãµ,\x82ÃªÂ»LÃ¶R" 400 -
127.0.0.1 - - [03/Mar/2025 14:20:44] code 400, message Bad HTTP/0.9 request type ('\x03\x00\x00/*Ã \x00\x00\x00\x00\x00Cookie:')
127.0.0.1 - - [03/Mar/2025 14:20:44] "\x03\x00\x00/*Ã \x00\x00\x00\x00\x00Cookie: mstshash=Administr" 400 -
127.0.0.1 - - [03/Mar/2025 18:36:44] code 400, message Bad HTTP/0.9 request type ('\x03\x00\x00/*Ã \x00\x00\x00\x00\x00Cookie:')
127.0.0.1 - - [03/Mar/2025 18:36:44] "\x03\x00\x00/*Ã \x00\x00\x00\x00\x00Cookie: mstshash=Administr" 400 -
127.0.0.1 - - [03/Mar/2025 19:57:05] code 400, message Bad HTTP/0.9 request type ('\x03\x00\x00/*Ã \x00\x00\x00\x00\x00Cookie:')
127.0.0.1 - - [03/Mar/2025 19:57:05] "\x03\x00\x00/*Ã \x00\x00\x00\x00\x00Cookie: mstshash=Administr" 400 -
127.0.0.1 - - [03/Mar/2025 21:45:14] code 400, message Bad HTTP/0.9 request type ('\x03\x00\x00/*Ã \x00\x00\x00\x00\x00Cookie:')
127.0.0.1 - - [03/Mar/2025 21:45:14] "\x03\x00\x00/*Ã \x00\x00\x00\x00\x00Cookie: mstshash=Administr" 400 -
127.0.0.1 - - [04/Mar/2025 01:12:01] "GET / HTTP/1.1" 200 -
127.0.0.1 - - [04/Mar/2025 01:12:01] "GET /favicon.ico HTTP/1.1" 404 -
127.0.0.1 - - [04/Mar/2025 08:35:58] code 400, message Bad HTTP/0.9 request type ('\x03\x00\x00/*Ã \x00\x00\x00\x00\x00Cookie:')
127.0.0.1 - - [04/Mar/2025 08:35:58] "\x03\x00\x00/*Ã \x00\x00\x00\x00\x00Cookie: mstshash=Administr" 400 -
127.0.0.1 - - [04/Mar/2025 09:16:39] code 400, message Bad HTTP/0.9 request type ('\x03\x00\x00/*Ã \x00\x00\x00\x00\x00Cookie:')
127.0.0.1 - - [04/Mar/2025 09:16:39] "\x03\x00\x00/*Ã \x00\x00\x00\x00\x00Cookie: mstshash=Administr" 400 -
127.0.0.1 - - [04/Mar/2025 13:06:58] "GET / HTTP/1.1" 200 -
127.0.0.1 - - [04/Mar/2025 13:07:04] "GET /favicon.ico HTTP/1.1" 404 -
127.0.0.1 - - [04/Mar/2025 13:07:07] code 505, message Invalid HTTP version (2.0)
127.0.0.1 - - [04/Mar/2025 13:07:07] "PRI * HTTP/2.0" 505 -
127.0.0.1 - - [04/Mar/2025 13:07:19] "GET /favicon.ico HTTP/1.1" 404 -
127.0.0.1 - - [04/Mar/2025 13:07:23] code 400, message Bad request version ('Ã€\x14Ã€')
127.0.0.1 - - [04/Mar/2025 13:07:23] "\x16\x03\x01\x00Ã·\x01\x00\x00Ã³\x03\x03Ã¿u\x08Â«nE$Â­0Â±XÃ Ã‹jbÃ\x1f\x0dCÃ…Ã£Ã°EÃÃ³\x9d\x9e*\x10ÃÃ; Ã¤\x0b\x13Ã—J\x94\x1cÂ©wÃ­4\x1cÃ¿CÃµ\x92Â¸,ÃÃ«;3ÃªÃ¥\x7fM~\x85QÃœÂ½Â¥\x00&ÃŒÂ¨ÃŒÂ©Ã€/Ã€0Ã€+Ã€,Ã€\x13Ã€\x09Ã€\x14Ã€" 400 -
127.0.0.1 - - [04/Mar/2025 13:47:54] code 400, message Bad HTTP/0.9 request type ('\x03\x00\x00/*Ã \x00\x00\x00\x00\x00Cookie:')
127.0.0.1 - - [04/Mar/2025 13:47:54] "\x03\x00\x00/*Ã \x00\x00\x00\x00\x00Cookie: mstshash=Administr" 400 -
127.0.0.1 - - [05/Mar/2025 02:54:40] "GET / HTTP/1.1" 200 -
127.0.0.1 - - [05/Mar/2025 02:55:20] "GET / HTTP/1.1" 200 -
127.0.0.1 - - [05/Mar/2025 03:24:59] code 400, message Bad HTTP/0.9 request type ('\x03\x00\x00/*Ã \x00\x00\x00\x00\x00Cookie:')
127.0.0.1 - - [05/Mar/2025 03:24:59] "\x03\x00\x00/*Ã \x00\x00\x00\x00\x00Cookie: mstshash=Administr" 400 -
127.0.0.1 - - [05/Mar/2025 06:06:58] code 400, message Bad HTTP/0.9 request type ('\x03\x00\x00/*Ã \x00\x00\x00\x00\x00Cookie:')
127.0.0.1 - - [05/Mar/2025 06:06:58] "\x03\x00\x00/*Ã \x00\x00\x00\x00\x00Cookie: mstshash=Administr" 400 -
127.0.0.1 - - [05/Mar/2025 07:20:48] "GET / HTTP/1.1" 200 -
127.0.0.1 - - [05/Mar/2025 07:20:49] "GET /src/style.css HTTP/1.1" 200 -
127.0.0.1 - - [05/Mar/2025 07:20:49] "GET /src/main.js HTTP/1.1" 200 -
127.0.0.1 - - [05/Mar/2025 07:20:50] "GET /src/config.json HTTP/1.1" 200 -
127.0.0.1 - - [05/Mar/2025 07:20:51] "GET /favicon.ico HTTP/1.1" 404 -

[36;1m[1;3m[llm/end][0m [1m[chain:RunnableSequence > llm:ChatOpenAI] [2.03s] Exiting LLM run with output:
[0m{
  "generations": [
    [
      {
        "text": "æ ¹æ®æ£€ç´¢åˆ°çš„å†…å®¹ï¼Œå¯ä»¥ä½¿ç”¨speedtestç½‘é€Ÿæµ‹è¯•æ¥æŸ¥çœ‹ç½‘é€Ÿã€‚é€šè¿‡åœ¨Linuxç³»ç»Ÿä¸­è¿è¡Œ`docker run --rm robinmanuelthiel/speedtest:latest`å‘½ä»¤æ¥è¿›è¡Œç½‘é€Ÿæµ‹è¯•ã€‚",
        "generation_info": {
          "finish_reason": "stop",
          "logprobs": null
        },
        "type": "ChatGeneration",
        "message": {
          "lc": 1,
          "type": "constructor",
          "id": [
            "langchain",
            "schema",
            "messages",
            "AIMessage"
          ],
          "kwargs": {
            "content": "æ ¹æ®æ£€ç´¢åˆ°çš„å†…å®¹ï¼Œå¯ä»¥ä½¿ç”¨speedtestç½‘é€Ÿæµ‹è¯•æ¥æŸ¥çœ‹ç½‘é€Ÿã€‚é€šè¿‡åœ¨Linuxç³»ç»Ÿä¸­è¿è¡Œ`docker run --rm robinmanuelthiel/speedtest:latest`å‘½ä»¤æ¥è¿›è¡Œç½‘é€Ÿæµ‹è¯•ã€‚",
            "additional_kwargs": {
              "refusal": null
            },
            "response_metadata": {
              "token_usage": {
                "completion_tokens": 53,
                "prompt_tokens": 1566,
                "total_tokens": 1619,
                "completion_tokens_details": null,
                "prompt_tokens_details": null
              },
              "model_name": "gpt-3.5-turbo",
              "system_fingerprint": "fp_0165350fbb",
              "finish_reason": "stop",
              "logprobs": null
            },
            "type": "ai",
            "id": "run-92af1a88-f033-4fce-a7b4-f697da427aaa-0",
            "usage_metadata": {
              "input_tokens": 1566,
              "output_tokens": 53,
              "total_tokens": 1619,
              "input_token_details": {},
              "output_token_details": {}
            },
            "tool_calls": [],
            "invalid_tool_calls": []
          }
        }
      }
    ]
  ],
  "llm_output": {
    "token_usage": {
      "completion_tokens": 53,
      "prompt_tokens": 1566,
      "total_tokens": 1619,
      "completion_tokens_details": null,
      "prompt_tokens_details": null
    },
    "model_name": "gpt-3.5-turbo",
    "system_fingerprint": "fp_0165350fbb"
  },
  "run": null,
  "type": "LLMResult"
}
[32;1m[1;3m[chain/start][0m [1m[chain:RunnableSequence > parser:StrOutputParser] Entering Parser run with input:
[0m[inputs]
[36;1m[1;3m[chain/end][0m [1m[chain:RunnableSequence > parser:StrOutputParser] [1ms] Exiting Parser run with output:
[0m{
  "output": "æ ¹æ®æ£€ç´¢åˆ°çš„å†…å®¹ï¼Œå¯ä»¥ä½¿ç”¨speedtestç½‘é€Ÿæµ‹è¯•æ¥æŸ¥çœ‹ç½‘é€Ÿã€‚é€šè¿‡åœ¨Linuxç³»ç»Ÿä¸­è¿è¡Œ`docker run --rm robinmanuelthiel/speedtest:latest`å‘½ä»¤æ¥è¿›è¡Œç½‘é€Ÿæµ‹è¯•ã€‚"
}
[36;1m[1;3m[chain/end][0m [1m[chain:RunnableSequence] [2.06s] Exiting Chain run with output:
[0m{
  "output": "æ ¹æ®æ£€ç´¢åˆ°çš„å†…å®¹ï¼Œå¯ä»¥ä½¿ç”¨speedtestç½‘é€Ÿæµ‹è¯•æ¥æŸ¥çœ‹ç½‘é€Ÿã€‚é€šè¿‡åœ¨Linuxç³»ç»Ÿä¸­è¿è¡Œ`docker run --rm robinmanuelthiel/speedtest:latest`å‘½ä»¤æ¥è¿›è¡Œç½‘é€Ÿæµ‹è¯•ã€‚"
}
after request
after request
after request
after request
after request
after request
after request
after request
after request
after request
after request
after request
after request
after request
after request
after request
after request
after request
after request
after request
after request
after request
after request
after request
after request
after request
after request
after request
after request
after request
after request
after request
after request
after request
after request
after request
after request
after request
after request
after request
******************************
linux å¦‚ä½•æ‰©å®¹
[32;1m[1;3m[chain/start][0m [1m[chain:RunnableSequence] Entering Chain run with input:
[0m{
  "input": "linux å¦‚ä½•æ‰©å®¹"
}
[32;1m[1;3m[chain/start][0m [1m[chain:RunnableSequence > chain:RunnableParallel<context,question>] Entering Chain run with input:
[0m{
  "input": "linux å¦‚ä½•æ‰©å®¹"
}
[32;1m[1;3m[chain/start][0m [1m[chain:RunnableSequence > chain:RunnableParallel<context,question> > chain:RunnablePassthrough] Entering Chain run with input:
[0m{
  "input": "linux å¦‚ä½•æ‰©å®¹"
}
[36;1m[1;3m[chain/end][0m [1m[chain:RunnableSequence > chain:RunnableParallel<context,question> > chain:RunnablePassthrough] [1ms] Exiting Chain run with output:
[0m{
  "output": "linux å¦‚ä½•æ‰©å®¹"
}
[36;1m[1;3m[chain/end][0m [1m[chain:RunnableSequence > chain:RunnableParallel<context,question>] [420ms] Exiting Chain run with output:
[0m{
  "context": "æ–‡æ¡£ï¼šå…³äºæˆ‘çš„openwrté•œåƒè¸©å‘æ³¨æ„äº‹é¡¹ \n##overlayè½¯ä»¶åŒ…ç›®å½•æ‰©å®¹\nå†…å®¹ï¼š- æ‰©å®¹åˆ°1g\næ–‡æ¡£ï¼šå…³äºæˆ‘çš„openwrté•œåƒè¸©å‘æ³¨æ„äº‹é¡¹ \n##æˆ‘åšäº†dockerçš„æŒ‚è½½ç›®å½•æ›´æ”¹\nå†…å®¹ï¼š**å¦‚éœ€è¿˜æƒ³ç»§ç»­æ‰©å®¹rootã€‚å¯ä»¥è€ƒè™‘ç›´æ¥ä»ubuntuå¯åŠ¨ï¼Œç„¶åç”¨æ­£å¸¸çš„ç¡¬ç›˜åˆ†åŒºæ‰©å®¹æ€è·¯æ¥æ‰©å®¹ã€‚**\n\næ‰€ä»¥è¯¥é•œåƒæš‚å®šä¸º2gbå¤§å°ã€‚\næ–‡æ¡£ï¼šè®¡ç®—æœºç½‘ç»œ \n##å¦‚ä½•åœ¨ Linux ç³»ç»Ÿä¸­æŸ¥çœ‹ TCP çŠ¶æ€ï¼Ÿ\nå†…å®¹ï¼š> TCP çš„è¿æ¥çŠ¶æ€æŸ¥çœ‹ï¼Œåœ¨ Linux å¯ä»¥é€šè¿‡ `netstat -napt` å‘½ä»¤æŸ¥çœ‹\n>\n> ![TCP è¿æ¥çŠ¶æ€æŸ¥çœ‹](https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/ad87d5897557f51a5da504aa51b4c283/f1193ff8b388617c0de6badda63473af.png)\næ–‡æ¡£ï¼šjavaå¹¶å‘å¤šçº¿ç¨‹ç›¸å…³ \n###[ThreadLocalMap æ‰©å®¹æœºåˆ¶äº†è§£å—ï¼Ÿ](https://javabetter.cn/sidebar/sanfene/javathread.html#_18-threadlocalmap-æ‰©å®¹æœºåˆ¶äº†è§£å—)\nå†…å®¹ï¼šåœ¨ ThreadLocalMap.set()æ–¹æ³•çš„æœ€åï¼Œå¦‚æœæ‰§è¡Œå®Œå¯å‘å¼æ¸…ç†å·¥ä½œåï¼Œæœªæ¸…ç†åˆ°ä»»ä½•æ•°æ®ï¼Œä¸”**å½“å‰æ•£åˆ—æ•°ç»„ä¸­`Entry`çš„æ•°é‡å·²ç»è¾¾åˆ°äº†åˆ—è¡¨çš„æ‰©å®¹é˜ˆå€¼`(len*2/3)`ï¼Œå°±å¼€å§‹æ‰§è¡Œ`rehash()`é€»è¾‘ï¼š**\næ–‡æ¡£ï¼šVMWare ESXiç³»ç»Ÿä¸­ç»™è™šæ‹Ÿæœºç¡¬ç›˜æ‰©å®¹è®°å½• \n#ä¸‰ã€æ‰©å®¹æ–‡ä»¶ç³»ç»Ÿ\nå†…å®¹ï¼š1. ä¹‹å‰çš„æ“ä½œåªæ˜¯å°†LVï¼ˆ/rootï¼‰åˆ†åŒºæ‰©å®¹ï¼Œä»éœ€å°†æ–‡ä»¶ç³»ç»Ÿæ‰©å®¹ï¼Œå¦åˆ™ä¸èƒ½ä½¿ç”¨æ‰©å®¹åçš„ç©ºé—´\n\n2. **æ³¨æ„ centosä¸ºä»¥ä¸‹**\n\n   ```bash\n   [root@centos7 ~]# xfs_growfs /dev/vg001/root\n   meta-data=/dev/mapper/vg001-root isize=512    agcount=4, agsize=2956800 blks\n   ......\n   data blocks changed from 11827200 to 24934400\n   \n   ```\n   **ubuntuä¸ºä»¥ä¸‹**\n\n   ```undefined\n   è¦å¯¹åº”å“åº”çš„æ–‡ä»¶ç³»ç»Ÿ\n   resize2fs å¯¹åº”çš„æ˜¯ ext2ã€ext3ã€ext4\n   resize2fs /dev/ubuntu-vg/ubuntu-lv\n   ```\n\n3. æŸ¥çœ‹åˆ†åŒºå¤§å°ï¼Œå¯è§å·²æ‰©å®¹æˆåŠŸ\n\n   ```bash\n   [root@template-centos7_6_1810 ~]# df -lh\n   Filesystem              Size  Used Avail Use% Mounted on\n   /dev/mapper/vg001-root   96G  3.3G   92G   4% /\n   /dev/sda1              1014M  149M  866M  15% /boot\n   ```\næ–‡æ¡£ï¼šå…³äºæˆ‘çš„openwrté•œåƒè¸©å‘æ³¨æ„äº‹é¡¹ \n##/æ ¹ç›®å½•æ‰©å®¹\nå†…å®¹ï¼šdockerç›®å½•æ‰©å®¹å¾ˆç®€å•ï¼Œä½†æ˜¯æ ¹ç›®å½•æ¯”è¾ƒéº»çƒ¦ã€‚\n\nè¸©å‘1ï¼š å¿˜è®°åšå¤åˆ¶æ“ä½œäº†ã€‚\n\nè¸©å‘2ï¼šç»™çš„ç›®å½•å¤ªå°äº†ã€‚å¯¼è‡´æ ¹ç›®å½•ç›´æ¥æŒ‚æ»¡ã€‚äºæ˜¯æˆ‘é‡æ–°ubuntuå¯åŠ¨ï¼Œç„¶åç»™rootç›®å½•æ‰‹åŠ¨æ‰©å®¹åˆ°2.5g\n```\nmkdir -p /tmp/introot\nmkdir -p /tmp/extroot\nmount --bind / /tmp/introot\nmount /dev/sda4 /tmp/extroot\ntar -C /tmp/introot -cvf - . | tar -C /tmp/extroot -xf -\numount /tmp/introot\numount /tmp/extroot\n```\næ–‡æ¡£ï¼šjavaå®¹å™¨ \n###2. List\nå†…å®¹ï¼š- ArrayListï¼šåŸºäºåŠ¨æ€æ•°ç»„å®ç°ï¼Œæ”¯æŒéšæœºè®¿é—®**ï¼ˆçº¿ç¨‹ä¸å®‰å…¨ï¼‰**ã€‚\n  - **æ‰©å®¹ï¼šArrayList æ¯æ¬¡æ‰©å®¹ä¹‹åå®¹é‡éƒ½ä¼šå˜ä¸ºåŸæ¥çš„ 1.5 å€å·¦å³ï¼ˆoldCapacity ä¸ºå¶æ•°å°±æ˜¯ 1.5 å€ï¼Œå¦åˆ™æ˜¯ 1.5 å€å·¦å³ï¼‰**\n\n- Vectorï¼šå’Œ ArrayList ç±»ä¼¼ï¼Œ**ä½†å®ƒæ˜¯çº¿ç¨‹å®‰å…¨çš„**ã€‚\n- LinkedListï¼š**åŸºäºåŒå‘é“¾è¡¨å®ç°**ï¼Œåªèƒ½é¡ºåºè®¿é—®ï¼Œä½†æ˜¯å¯ä»¥å¿«é€Ÿåœ°åœ¨é“¾è¡¨ä¸­é—´æ’å…¥å’Œåˆ é™¤å…ƒç´ ã€‚ä¸ä»…å¦‚æ­¤ï¼ŒLinkedList è¿˜å¯ä»¥ç”¨ä½œæ ˆã€é˜Ÿåˆ—å’ŒåŒå‘é˜Ÿåˆ—ã€‚**ï¼ˆçº¿ç¨‹ä¸å®‰å…¨ï¼‰**\næ–‡æ¡£ï¼šshellå°note \n#docker å®¹å™¨ç›¸å…³çš„å‘½ä»¤\nå†…å®¹ï¼š**ä¸€äº›å®¹å™¨æ²¡æœ‰suå‘½ä»¤ã€‚**\n\nå®‰è£…çš„æ–¹å¼\n\n```\n-bash/zsh: su: command not found\n \n#Debian\napt-get install util-linux\n \n#Ubuntu\napt-get install util-linux\n \n#Alpine\napk add util-linux\n \n#Arch Linux\npacman -S util-linux\n \n#Kali Linux\napt-get install util-linux\n \n#CentOS\nyum install util-linux\n \n#Fedora\ndnf install util-linux\n \n#OS X\nbrew install util-linux\n \n#Raspbian\napt-get install login\n \n#Docker\ndocker run cmd.cat/su su\n```\næ–‡æ¡£ï¼šlinuxç»™æ¯ä¸ªç”¨æˆ·é™å®šå­˜å‚¨ç©ºé—´å¤§å° \n##1 å»ºç«‹æµ‹è¯•ç¯å¢ƒ\nå†…å®¹ï¼šæ–°å»ºå¥½ç”¨æˆ·å’Œåˆ†ç»„\n\n```\n[root@linux ~]# groupadd qgroup\n[root@linux ~]# useradd -m -g qgroup quser1\n[root@linux ~]# useradd -m -g qgroup quser2\n[root@linux ~]# passwd quser1\n[root@linux ~]# passwd quser2\n```\næ–‡æ¡£ï¼šlinuxç»™æ¯ä¸ªç”¨æˆ·é™å®šå­˜å‚¨ç©ºé—´å¤§å° \n#ref\nå†…å®¹ï¼š[é¸Ÿå“¥linux](http://cn.linux.vbird.org/linux_basic/fedora_4/0420quota-fc4.php)\n",
  "question": "linux å¦‚ä½•æ‰©å®¹"
}
[32;1m[1;3m[chain/start][0m [1m[chain:RunnableSequence > prompt:ChatPromptTemplate] Entering Prompt run with input:
[0m{
  "context": "æ–‡æ¡£ï¼šå…³äºæˆ‘çš„openwrté•œåƒè¸©å‘æ³¨æ„äº‹é¡¹ \n##overlayè½¯ä»¶åŒ…ç›®å½•æ‰©å®¹\nå†…å®¹ï¼š- æ‰©å®¹åˆ°1g\næ–‡æ¡£ï¼šå…³äºæˆ‘çš„openwrté•œåƒè¸©å‘æ³¨æ„äº‹é¡¹ \n##æˆ‘åšäº†dockerçš„æŒ‚è½½ç›®å½•æ›´æ”¹\nå†…å®¹ï¼š**å¦‚éœ€è¿˜æƒ³ç»§ç»­æ‰©å®¹rootã€‚å¯ä»¥è€ƒè™‘ç›´æ¥ä»ubuntuå¯åŠ¨ï¼Œç„¶åç”¨æ­£å¸¸çš„ç¡¬ç›˜åˆ†åŒºæ‰©å®¹æ€è·¯æ¥æ‰©å®¹ã€‚**\n\næ‰€ä»¥è¯¥é•œåƒæš‚å®šä¸º2gbå¤§å°ã€‚\næ–‡æ¡£ï¼šè®¡ç®—æœºç½‘ç»œ \n##å¦‚ä½•åœ¨ Linux ç³»ç»Ÿä¸­æŸ¥çœ‹ TCP çŠ¶æ€ï¼Ÿ\nå†…å®¹ï¼š> TCP çš„è¿æ¥çŠ¶æ€æŸ¥çœ‹ï¼Œåœ¨ Linux å¯ä»¥é€šè¿‡ `netstat -napt` å‘½ä»¤æŸ¥çœ‹\n>\n> ![TCP è¿æ¥çŠ¶æ€æŸ¥çœ‹](https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/ad87d5897557f51a5da504aa51b4c283/f1193ff8b388617c0de6badda63473af.png)\næ–‡æ¡£ï¼šjavaå¹¶å‘å¤šçº¿ç¨‹ç›¸å…³ \n###[ThreadLocalMap æ‰©å®¹æœºåˆ¶äº†è§£å—ï¼Ÿ](https://javabetter.cn/sidebar/sanfene/javathread.html#_18-threadlocalmap-æ‰©å®¹æœºåˆ¶äº†è§£å—)\nå†…å®¹ï¼šåœ¨ ThreadLocalMap.set()æ–¹æ³•çš„æœ€åï¼Œå¦‚æœæ‰§è¡Œå®Œå¯å‘å¼æ¸…ç†å·¥ä½œåï¼Œæœªæ¸…ç†åˆ°ä»»ä½•æ•°æ®ï¼Œä¸”**å½“å‰æ•£åˆ—æ•°ç»„ä¸­`Entry`çš„æ•°é‡å·²ç»è¾¾åˆ°äº†åˆ—è¡¨çš„æ‰©å®¹é˜ˆå€¼`(len*2/3)`ï¼Œå°±å¼€å§‹æ‰§è¡Œ`rehash()`é€»è¾‘ï¼š**\næ–‡æ¡£ï¼šVMWare ESXiç³»ç»Ÿä¸­ç»™è™šæ‹Ÿæœºç¡¬ç›˜æ‰©å®¹è®°å½• \n#ä¸‰ã€æ‰©å®¹æ–‡ä»¶ç³»ç»Ÿ\nå†…å®¹ï¼š1. ä¹‹å‰çš„æ“ä½œåªæ˜¯å°†LVï¼ˆ/rootï¼‰åˆ†åŒºæ‰©å®¹ï¼Œä»éœ€å°†æ–‡ä»¶ç³»ç»Ÿæ‰©å®¹ï¼Œå¦åˆ™ä¸èƒ½ä½¿ç”¨æ‰©å®¹åçš„ç©ºé—´\n\n2. **æ³¨æ„ centosä¸ºä»¥ä¸‹**\n\n   ```bash\n   [root@centos7 ~]# xfs_growfs /dev/vg001/root\n   meta-data=/dev/mapper/vg001-root isize=512    agcount=4, agsize=2956800 blks\n   ......\n   data blocks changed from 11827200 to 24934400\n   \n   ```\n   **ubuntuä¸ºä»¥ä¸‹**\n\n   ```undefined\n   è¦å¯¹åº”å“åº”çš„æ–‡ä»¶ç³»ç»Ÿ\n   resize2fs å¯¹åº”çš„æ˜¯ ext2ã€ext3ã€ext4\n   resize2fs /dev/ubuntu-vg/ubuntu-lv\n   ```\n\n3. æŸ¥çœ‹åˆ†åŒºå¤§å°ï¼Œå¯è§å·²æ‰©å®¹æˆåŠŸ\n\n   ```bash\n   [root@template-centos7_6_1810 ~]# df -lh\n   Filesystem              Size  Used Avail Use% Mounted on\n   /dev/mapper/vg001-root   96G  3.3G   92G   4% /\n   /dev/sda1              1014M  149M  866M  15% /boot\n   ```\næ–‡æ¡£ï¼šå…³äºæˆ‘çš„openwrté•œåƒè¸©å‘æ³¨æ„äº‹é¡¹ \n##/æ ¹ç›®å½•æ‰©å®¹\nå†…å®¹ï¼šdockerç›®å½•æ‰©å®¹å¾ˆç®€å•ï¼Œä½†æ˜¯æ ¹ç›®å½•æ¯”è¾ƒéº»çƒ¦ã€‚\n\nè¸©å‘1ï¼š å¿˜è®°åšå¤åˆ¶æ“ä½œäº†ã€‚\n\nè¸©å‘2ï¼šç»™çš„ç›®å½•å¤ªå°äº†ã€‚å¯¼è‡´æ ¹ç›®å½•ç›´æ¥æŒ‚æ»¡ã€‚äºæ˜¯æˆ‘é‡æ–°ubuntuå¯åŠ¨ï¼Œç„¶åç»™rootç›®å½•æ‰‹åŠ¨æ‰©å®¹åˆ°2.5g\n```\nmkdir -p /tmp/introot\nmkdir -p /tmp/extroot\nmount --bind / /tmp/introot\nmount /dev/sda4 /tmp/extroot\ntar -C /tmp/introot -cvf - . | tar -C /tmp/extroot -xf -\numount /tmp/introot\numount /tmp/extroot\n```\næ–‡æ¡£ï¼šjavaå®¹å™¨ \n###2. List\nå†…å®¹ï¼š- ArrayListï¼šåŸºäºåŠ¨æ€æ•°ç»„å®ç°ï¼Œæ”¯æŒéšæœºè®¿é—®**ï¼ˆçº¿ç¨‹ä¸å®‰å…¨ï¼‰**ã€‚\n  - **æ‰©å®¹ï¼šArrayList æ¯æ¬¡æ‰©å®¹ä¹‹åå®¹é‡éƒ½ä¼šå˜ä¸ºåŸæ¥çš„ 1.5 å€å·¦å³ï¼ˆoldCapacity ä¸ºå¶æ•°å°±æ˜¯ 1.5 å€ï¼Œå¦åˆ™æ˜¯ 1.5 å€å·¦å³ï¼‰**\n\n- Vectorï¼šå’Œ ArrayList ç±»ä¼¼ï¼Œ**ä½†å®ƒæ˜¯çº¿ç¨‹å®‰å…¨çš„**ã€‚\n- LinkedListï¼š**åŸºäºåŒå‘é“¾è¡¨å®ç°**ï¼Œåªèƒ½é¡ºåºè®¿é—®ï¼Œä½†æ˜¯å¯ä»¥å¿«é€Ÿåœ°åœ¨é“¾è¡¨ä¸­é—´æ’å…¥å’Œåˆ é™¤å…ƒç´ ã€‚ä¸ä»…å¦‚æ­¤ï¼ŒLinkedList è¿˜å¯ä»¥ç”¨ä½œæ ˆã€é˜Ÿåˆ—å’ŒåŒå‘é˜Ÿåˆ—ã€‚**ï¼ˆçº¿ç¨‹ä¸å®‰å…¨ï¼‰**\næ–‡æ¡£ï¼šshellå°note \n#docker å®¹å™¨ç›¸å…³çš„å‘½ä»¤\nå†…å®¹ï¼š**ä¸€äº›å®¹å™¨æ²¡æœ‰suå‘½ä»¤ã€‚**\n\nå®‰è£…çš„æ–¹å¼\n\n```\n-bash/zsh: su: command not found\n \n#Debian\napt-get install util-linux\n \n#Ubuntu\napt-get install util-linux\n \n#Alpine\napk add util-linux\n \n#Arch Linux\npacman -S util-linux\n \n#Kali Linux\napt-get install util-linux\n \n#CentOS\nyum install util-linux\n \n#Fedora\ndnf install util-linux\n \n#OS X\nbrew install util-linux\n \n#Raspbian\napt-get install login\n \n#Docker\ndocker run cmd.cat/su su\n```\næ–‡æ¡£ï¼šlinuxç»™æ¯ä¸ªç”¨æˆ·é™å®šå­˜å‚¨ç©ºé—´å¤§å° \n##1 å»ºç«‹æµ‹è¯•ç¯å¢ƒ\nå†…å®¹ï¼šæ–°å»ºå¥½ç”¨æˆ·å’Œåˆ†ç»„\n\n```\n[root@linux ~]# groupadd qgroup\n[root@linux ~]# useradd -m -g qgroup quser1\n[root@linux ~]# useradd -m -g qgroup quser2\n[root@linux ~]# passwd quser1\n[root@linux ~]# passwd quser2\n```\næ–‡æ¡£ï¼šlinuxç»™æ¯ä¸ªç”¨æˆ·é™å®šå­˜å‚¨ç©ºé—´å¤§å° \n#ref\nå†…å®¹ï¼š[é¸Ÿå“¥linux](http://cn.linux.vbird.org/linux_basic/fedora_4/0420quota-fc4.php)\n",
  "question": "linux å¦‚ä½•æ‰©å®¹"
}
[36;1m[1;3m[chain/end][0m [1m[chain:RunnableSequence > prompt:ChatPromptTemplate] [12ms] Exiting Prompt run with output:
[0m[outputs]
[32;1m[1;3m[llm/start][0m [1m[chain:RunnableSequence > llm:ChatOpenAI] Entering LLM run with input:
[0m{
  "prompts": [
    "Human: ä½ æ˜¯kengerçš„åšå®¢æœç´¢åŠ©æ‰‹ï¼Œè¯·ä½ æ ¹æ®æ£€ç´¢åˆ°çš„å†…å®¹å›ç­”é—®é¢˜ï¼š\næ£€ç´¢åˆ°çš„æ–‡æ¡£\næ–‡æ¡£ï¼šå…³äºæˆ‘çš„openwrté•œåƒè¸©å‘æ³¨æ„äº‹é¡¹ \n##overlayè½¯ä»¶åŒ…ç›®å½•æ‰©å®¹\nå†…å®¹ï¼š- æ‰©å®¹åˆ°1g\næ–‡æ¡£ï¼šå…³äºæˆ‘çš„openwrté•œåƒè¸©å‘æ³¨æ„äº‹é¡¹ \n##æˆ‘åšäº†dockerçš„æŒ‚è½½ç›®å½•æ›´æ”¹\nå†…å®¹ï¼š**å¦‚éœ€è¿˜æƒ³ç»§ç»­æ‰©å®¹rootã€‚å¯ä»¥è€ƒè™‘ç›´æ¥ä»ubuntuå¯åŠ¨ï¼Œç„¶åç”¨æ­£å¸¸çš„ç¡¬ç›˜åˆ†åŒºæ‰©å®¹æ€è·¯æ¥æ‰©å®¹ã€‚**\n\næ‰€ä»¥è¯¥é•œåƒæš‚å®šä¸º2gbå¤§å°ã€‚\næ–‡æ¡£ï¼šè®¡ç®—æœºç½‘ç»œ \n##å¦‚ä½•åœ¨ Linux ç³»ç»Ÿä¸­æŸ¥çœ‹ TCP çŠ¶æ€ï¼Ÿ\nå†…å®¹ï¼š> TCP çš„è¿æ¥çŠ¶æ€æŸ¥çœ‹ï¼Œåœ¨ Linux å¯ä»¥é€šè¿‡ `netstat -napt` å‘½ä»¤æŸ¥çœ‹\n>\n> ![TCP è¿æ¥çŠ¶æ€æŸ¥çœ‹](https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/ad87d5897557f51a5da504aa51b4c283/f1193ff8b388617c0de6badda63473af.png)\næ–‡æ¡£ï¼šjavaå¹¶å‘å¤šçº¿ç¨‹ç›¸å…³ \n###[ThreadLocalMap æ‰©å®¹æœºåˆ¶äº†è§£å—ï¼Ÿ](https://javabetter.cn/sidebar/sanfene/javathread.html#_18-threadlocalmap-æ‰©å®¹æœºåˆ¶äº†è§£å—)\nå†…å®¹ï¼šåœ¨ ThreadLocalMap.set()æ–¹æ³•çš„æœ€åï¼Œå¦‚æœæ‰§è¡Œå®Œå¯å‘å¼æ¸…ç†å·¥ä½œåï¼Œæœªæ¸…ç†åˆ°ä»»ä½•æ•°æ®ï¼Œä¸”**å½“å‰æ•£åˆ—æ•°ç»„ä¸­`Entry`çš„æ•°é‡å·²ç»è¾¾åˆ°äº†åˆ—è¡¨çš„æ‰©å®¹é˜ˆå€¼`(len*2/3)`ï¼Œå°±å¼€å§‹æ‰§è¡Œ`rehash()`é€»è¾‘ï¼š**\næ–‡æ¡£ï¼šVMWare ESXiç³»ç»Ÿä¸­ç»™è™šæ‹Ÿæœºç¡¬ç›˜æ‰©å®¹è®°å½• \n#ä¸‰ã€æ‰©å®¹æ–‡ä»¶ç³»ç»Ÿ\nå†…å®¹ï¼š1. ä¹‹å‰çš„æ“ä½œåªæ˜¯å°†LVï¼ˆ/rootï¼‰åˆ†åŒºæ‰©å®¹ï¼Œä»éœ€å°†æ–‡ä»¶ç³»ç»Ÿæ‰©å®¹ï¼Œå¦åˆ™ä¸èƒ½ä½¿ç”¨æ‰©å®¹åçš„ç©ºé—´\n\n2. **æ³¨æ„ centosä¸ºä»¥ä¸‹**\n\n   ```bash\n   [root@centos7 ~]# xfs_growfs /dev/vg001/root\n   meta-data=/dev/mapper/vg001-root isize=512    agcount=4, agsize=2956800 blks\n   ......\n   data blocks changed from 11827200 to 24934400\n   \n   ```\n   **ubuntuä¸ºä»¥ä¸‹**\n\n   ```undefined\n   è¦å¯¹åº”å“åº”çš„æ–‡ä»¶ç³»ç»Ÿ\n   resize2fs å¯¹åº”çš„æ˜¯ ext2ã€ext3ã€ext4\n   resize2fs /dev/ubuntu-vg/ubuntu-lv\n   ```\n\n3. æŸ¥çœ‹åˆ†åŒºå¤§å°ï¼Œå¯è§å·²æ‰©å®¹æˆåŠŸ\n\n   ```bash\n   [root@template-centos7_6_1810 ~]# df -lh\n   Filesystem              Size  Used Avail Use% Mounted on\n   /dev/mapper/vg001-root   96G  3.3G   92G   4% /\n   /dev/sda1              1014M  149M  866M  15% /boot\n   ```\næ–‡æ¡£ï¼šå…³äºæˆ‘çš„openwrté•œåƒè¸©å‘æ³¨æ„äº‹é¡¹ \n##/æ ¹ç›®å½•æ‰©å®¹\nå†…å®¹ï¼šdockerç›®å½•æ‰©å®¹å¾ˆç®€å•ï¼Œä½†æ˜¯æ ¹ç›®å½•æ¯”è¾ƒéº»çƒ¦ã€‚\n\nè¸©å‘1ï¼š å¿˜è®°åšå¤åˆ¶æ“ä½œäº†ã€‚\n\nè¸©å‘2ï¼šç»™çš„ç›®å½•å¤ªå°äº†ã€‚å¯¼è‡´æ ¹ç›®å½•ç›´æ¥æŒ‚æ»¡ã€‚äºæ˜¯æˆ‘é‡æ–°ubuntuå¯åŠ¨ï¼Œç„¶åç»™rootç›®å½•æ‰‹åŠ¨æ‰©å®¹åˆ°2.5g\n```\nmkdir -p /tmp/introot\nmkdir -p /tmp/extroot\nmount --bind / /tmp/introot\nmount /dev/sda4 /tmp/extroot\ntar -C /tmp/introot -cvf - . | tar -C /tmp/extroot -xf -\numount /tmp/introot\numount /tmp/extroot\n```\næ–‡æ¡£ï¼šjavaå®¹å™¨ \n###2. List\nå†…å®¹ï¼š- ArrayListï¼šåŸºäºåŠ¨æ€æ•°ç»„å®ç°ï¼Œæ”¯æŒéšæœºè®¿é—®**ï¼ˆçº¿ç¨‹ä¸å®‰å…¨ï¼‰**ã€‚\n  - **æ‰©å®¹ï¼šArrayList æ¯æ¬¡æ‰©å®¹ä¹‹åå®¹é‡éƒ½ä¼šå˜ä¸ºåŸæ¥çš„ 1.5 å€å·¦å³ï¼ˆoldCapacity ä¸ºå¶æ•°å°±æ˜¯ 1.5 å€ï¼Œå¦åˆ™æ˜¯ 1.5 å€å·¦å³ï¼‰**\n\n- Vectorï¼šå’Œ ArrayList ç±»ä¼¼ï¼Œ**ä½†å®ƒæ˜¯çº¿ç¨‹å®‰å…¨çš„**ã€‚\n- LinkedListï¼š**åŸºäºåŒå‘é“¾è¡¨å®ç°**ï¼Œåªèƒ½é¡ºåºè®¿é—®ï¼Œä½†æ˜¯å¯ä»¥å¿«é€Ÿåœ°åœ¨é“¾è¡¨ä¸­é—´æ’å…¥å’Œåˆ é™¤å…ƒç´ ã€‚ä¸ä»…å¦‚æ­¤ï¼ŒLinkedList è¿˜å¯ä»¥ç”¨ä½œæ ˆã€é˜Ÿåˆ—å’ŒåŒå‘é˜Ÿåˆ—ã€‚**ï¼ˆçº¿ç¨‹ä¸å®‰å…¨ï¼‰**\næ–‡æ¡£ï¼šshellå°note \n#docker å®¹å™¨ç›¸å…³çš„å‘½ä»¤\nå†…å®¹ï¼š**ä¸€äº›å®¹å™¨æ²¡æœ‰suå‘½ä»¤ã€‚**\n\nå®‰è£…çš„æ–¹å¼\n\n```\n-bash/zsh: su: command not found\n \n#Debian\napt-get install util-linux\n \n#Ubuntu\napt-get install util-linux\n \n#Alpine\napk add util-linux\n \n#Arch Linux\npacman -S util-linux\n \n#Kali Linux\napt-get install util-linux\n \n#CentOS\nyum install util-linux\n \n#Fedora\ndnf install util-linux\n \n#OS X\nbrew install util-linux\n \n#Raspbian\napt-get install login\n \n#Docker\ndocker run cmd.cat/su su\n```\næ–‡æ¡£ï¼šlinuxç»™æ¯ä¸ªç”¨æˆ·é™å®šå­˜å‚¨ç©ºé—´å¤§å° \n##1 å»ºç«‹æµ‹è¯•ç¯å¢ƒ\nå†…å®¹ï¼šæ–°å»ºå¥½ç”¨æˆ·å’Œåˆ†ç»„\n\n```\n[root@linux ~]# groupadd qgroup\n[root@linux ~]# useradd -m -g qgroup quser1\n[root@linux ~]# useradd -m -g qgroup quser2\n[root@linux ~]# passwd quser1\n[root@linux ~]# passwd quser2\n```\næ–‡æ¡£ï¼šlinuxç»™æ¯ä¸ªç”¨æˆ·é™å®šå­˜å‚¨ç©ºé—´å¤§å° \n#ref\nå†…å®¹ï¼š[é¸Ÿå“¥linux](http://cn.linux.vbird.org/linux_basic/fedora_4/0420quota-fc4.php)\n\n\né—®é¢˜ï¼šlinux å¦‚ä½•æ‰©å®¹\nè¦æ±‚ï¼š\n1. ç”¨æˆ·æ˜¯çœ‹ä¸åˆ°æ£€ç´¢åˆ°çš„æ–‡æ¡£çš„ï¼Œæ‰€ä»¥ä½ éœ€è¦æ ¹æ®æ£€ç´¢åˆ°çš„å†…å®¹å›ç­”é—®é¢˜ã€‚\n2. è¯·ä½ å°½å¯èƒ½æ ¹æ®æ£€ç´¢åˆ°çš„å†…å®¹å›ç­”é—®é¢˜ã€‚\n3. å¦‚æœæ— æ³•ä»ä¸Šä¸‹æ–‡å¾—åˆ°ç­”æ¡ˆï¼Œè¯·ç›´æ¥è¯´ä¸çŸ¥é“ã€‚"
  ]
}127.0.0.1 - - [05/Mar/2025 07:21:06] "POST /chat HTTP/1.1" 200 -
127.0.0.1 - - [06/Mar/2025 02:29:40] "GET / HTTP/1.1" 200 -
127.0.0.1 - - [06/Mar/2025 02:29:44] "GET /favicon.ico HTTP/1.1" 404 -
127.0.0.1 - - [06/Mar/2025 02:29:50] code 505, message Invalid HTTP version (2.0)
127.0.0.1 - - [06/Mar/2025 02:29:50] "PRI * HTTP/2.0" 505 -
127.0.0.1 - - [06/Mar/2025 02:30:04] "GET /favicon.ico HTTP/1.1" 404 -
127.0.0.1 - - [06/Mar/2025 02:30:06] code 400, message Bad request version ('Ã€\x14Ã€')
127.0.0.1 - - [06/Mar/2025 02:30:06] "\x16\x03\x01\x00Ã·\x01\x00\x00Ã³\x03\x03:\x1dÃ‹OÃ§\\Ã‹Ã“\x98p\x91-Â¶\x1fN\x15ÃºÂ³\x91\x9cÃ”?\x1aS\x90<\x08Ã½'Ã®\x03Ã‘ Ã½\x1aÃY\x09OÃ’Ã¤4Âª4\x8fÃŸÂ¶Â¥ÃªÂ£Â¶Ã…Ã«\x00\x12Â¨Ã†Â¿AÃ‘\x7fÃ¿Ã”Ãµ5\x00&ÃŒÂ¨ÃŒÂ©Ã€/Ã€0Ã€+Ã€,Ã€\x13Ã€\x09Ã€\x14Ã€" 400 -
127.0.0.1 - - [06/Mar/2025 12:17:04] code 400, message Bad HTTP/0.9 request type ('\x03\x00\x00/*Ã \x00\x00\x00\x00\x00Cookie:')
127.0.0.1 - - [06/Mar/2025 12:17:04] "\x03\x00\x00/*Ã \x00\x00\x00\x00\x00Cookie: mstshash=Administr" 400 -
127.0.0.1 - - [06/Mar/2025 12:17:36] code 400, message Bad HTTP/0.9 request type ('\x16\x03\x01\x01\x17\x01\x00\x01\x13\x03\x03ÃƒO:')
127.0.0.1 - - [06/Mar/2025 12:17:36] "\x16\x03\x01\x01\x17\x01\x00\x01\x13\x03\x03ÃƒO:\x1eÃˆ3Ã A;Â³C\x10\x07Â½Ã¨v\x1aÃ˜y;" 400 -
127.0.0.1 - - [06/Mar/2025 12:17:47] "GET / HTTP/1.1" 200 -
127.0.0.1 - - [06/Mar/2025 12:17:48] "GET /favicon.ico HTTP/1.1" 404 -
127.0.0.1 - - [06/Mar/2025 12:17:49] "GET /robots.txt HTTP/1.1" 404 -
127.0.0.1 - - [06/Mar/2025 12:17:50] "GET /sitemap.xml HTTP/1.1" 404 -
127.0.0.1 - - [06/Mar/2025 12:17:51] "GET /config.json HTTP/1.1" 404 -
